Started by user Andrey G.
Running in Durability level: MAX_SURVIVABILITY
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/pipeline02
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Tool Install)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Git clone)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] git
The recommended git tool is: NONE
using credential 9ca0aa0b-692c-4bd9-a70e-3933625bae8f
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/andgre/VerificationTask # timeout=10
Fetching upstream changes from https://github.com/andgre/VerificationTask
 > git --version # timeout=10
 > git --version # 'git version 2.25.1'
using GIT_ASKPASS to set credentials git credentials
 > git fetch --tags --force --progress -- https://github.com/andgre/VerificationTask +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision 7c03f27562813495a6eb39d7785c1d15a753b247 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 7c03f27562813495a6eb39d7785c1d15a753b247 # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D master # timeout=10
 > git checkout -b master 7c03f27562813495a6eb39d7785c1d15a753b247 # timeout=10
Commit message: "commit"
 > git rev-list --no-walk 8eab9c7cfe682b49619374cc24f560fd8e1f604c # timeout=10
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform init)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ terraform init

[0m[1mInitializing the backend...[0m
[0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/google from the dependency lock file
- Reusing previous version of hashicorp/null from the dependency lock file
- Using previously-installed hashicorp/google v3.60.0
- Using previously-installed hashicorp/null v3.1.0

[33m
[1m[33mWarning: [0m[0m[1mInterpolation-only expressions are deprecated[0m

[0m  on main.tf line 67, in resource "google_compute_instance" "prod":
  67:     private_key = [4m"${file("~/.ssh/id_rsa")}"[0m
[0m
Terraform 0.11 and earlier required all non-constant expressions to be
provided via interpolation syntax, but this pattern is now deprecated. To
silence this warning, remove the "${ sequence from the start and the }"
sequence from the end of this expression, leaving just the inner expression.

Template interpolation syntax is still used to construct strings from
expressions when the template includes multiple interpolation sequences or a
mixture of literal strings and interpolations. This deprecation applies only
to templates that consist entirely of a single interpolation sequence.
[0m[0m
[0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform apply)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ terraform apply --auto-approve
[0m[1mgoogle_compute_instance.prod: Refreshing state... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-prod-001][0m
[0m[1mgoogle_compute_instance.prod: Creating...[0m[0m
[0m[1mgoogle_compute_instance.dev: Creating...[0m[0m
[0m[1mgoogle_compute_instance.prod: Still creating... [10s elapsed][0m[0m
[0m[1mgoogle_compute_instance.dev: Still creating... [10s elapsed][0m[0m
[0m[1mgoogle_compute_instance.prod: Provisioning with 'remote-exec'...[0m[0m
[0m[0mgoogle_compute_instance.prod (remote-exec): Connecting to remote host via SSH...
google_compute_instance.prod (remote-exec):   Host: 35.228.15.40
google_compute_instance.prod (remote-exec):   User: root
google_compute_instance.prod (remote-exec):   Password: false
google_compute_instance.prod (remote-exec):   Private key: true
google_compute_instance.prod (remote-exec):   Certificate: false
google_compute_instance.prod (remote-exec):   SSH Agent: false
google_compute_instance.prod (remote-exec):   Checking Host Key: false
google_compute_instance.prod (remote-exec):   Target Platform: unix
[0m[1mgoogle_compute_instance.dev: Provisioning with 'remote-exec'...[0m[0m
[0m[0mgoogle_compute_instance.dev (remote-exec): Connecting to remote host via SSH...
google_compute_instance.dev (remote-exec):   Host: 35.228.117.220
google_compute_instance.dev (remote-exec):   User: root
google_compute_instance.dev (remote-exec):   Password: false
google_compute_instance.dev (remote-exec):   Private key: true
google_compute_instance.dev (remote-exec):   Certificate: false
google_compute_instance.dev (remote-exec):   SSH Agent: false
google_compute_instance.dev (remote-exec):   Checking Host Key: false
google_compute_instance.dev (remote-exec):   Target Platform: unix
[0m[1mgoogle_compute_instance.prod: Still creating... [20s elapsed][0m[0m
[0m[1mgoogle_compute_instance.dev: Still creating... [20s elapsed][0m[0m
[0m[0mgoogle_compute_instance.prod (remote-exec): Connecting to remote host via SSH...
google_compute_instance.prod (remote-exec):   Host: 35.228.15.40
google_compute_instance.prod (remote-exec):   User: root
google_compute_instance.prod (remote-exec):   Password: false
google_compute_instance.prod (remote-exec):   Private key: true
google_compute_instance.prod (remote-exec):   Certificate: false
google_compute_instance.prod (remote-exec):   SSH Agent: false
google_compute_instance.prod (remote-exec):   Checking Host Key: false
google_compute_instance.prod (remote-exec):   Target Platform: unix
[0m[0mgoogle_compute_instance.prod (remote-exec): Connecting to remote host via SSH...
google_compute_instance.prod (remote-exec):   Host: 35.228.15.40
google_compute_instance.prod (remote-exec):   User: root
google_compute_instance.prod (remote-exec):   Password: false
google_compute_instance.prod (remote-exec):   Private key: true
google_compute_instance.prod (remote-exec):   Certificate: false
google_compute_instance.prod (remote-exec):   SSH Agent: false
google_compute_instance.prod (remote-exec):   Checking Host Key: false
google_compute_instance.prod (remote-exec):   Target Platform: unix
[0m[0mgoogle_compute_instance.prod (remote-exec): Connected!
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:1 http://packages.cloud.google.com/apt cloud-sdk-buster InRelease [6774 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers] [Waiting for h[0m
google_compute_instance.prod (remote-exec): Hit:2 http://deb.debian.org/debian buster InRelease
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:3 http://security.debian.org/debian-security buster/updates InRelease [65.4 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:4 http://packages.cloud.google.com/apt google-cloud-packages-archive-keyring-buster InRelease [5553 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers] [3 InRelease 4[0m
google_compute_instance.prod (remote-exec): Get:5 http://deb.debian.org/debian buster-updates InRelease [51.9 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [5 InRelease 13.5 kB/51.9 kB 26%] [3[0m
google_compute_instance.prod (remote-exec): Get:6 http://packages.cloud.google.com/apt google-compute-engine-buster-stable InRelease [5526 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [5 InRelease 20.5 kB/51.9 kB 40%] [3[0m[33m
google_compute_instance.prod (remote-exec): 0% [5 InRelease 27.6 kB/51.9 kB 53%][0m[33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:7 http://deb.debian.org/debian buster-backports InRelease [46.7 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [7 InRelease 12.2 kB/46.7 kB 26%][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:8 http://packages.cloud.google.com/apt cloud-sdk-buster/main amd64 Packages [164 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [8 Packages 28.1 kB/164 kB 17%][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [8 Packages store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:9 http://security.debian.org/debian-security buster/updates/main Sources [179 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [9 Sources 0 B/179 kB 0%][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B][0m
google_compute_instance.prod (remote-exec): Get:10 http://security.debian.org/debian-security buster/updates/main amd64 Packages [269 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B] [10 Packages 1[0m[33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B][0m
google_compute_instance.prod (remote-exec): Get:11 http://security.debian.org/debian-security buster/updates/main Translation-en [143 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B] [11 Translatio[0m[33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [10 Packages store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [11 Translation-en store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [11 Translation-en store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:12 http://deb.debian.org/debian buster-backports/main Sources.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:13 http://deb.debian.org/debian buster-backports/main amd64 Packages.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:14 http://deb.debian.org/debian buster-backports/main Translation-en.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [14 Translation-en 27.8 kB/27.8 kB 1[0m[33m
google_compute_instance.prod (remote-exec): 93% [Working][0m
google_compute_instance.prod (remote-exec): Get:15 http://deb.debian.org/debian buster-backports/main Sources 2021-03-15-2001.23.pdiff [86 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:16 http://deb.debian.org/debian buster-backports/main Sources 2021-03-16-1400.42.pdiff [22.3 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:17 http://deb.debian.org/debian buster-backports/main Sources 2021-03-16-2001.09.pdiff [74 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:18 http://deb.debian.org/debian buster-backports/main Sources 2021-03-17-1400.51.pdiff [2849 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:19 http://deb.debian.org/debian buster-backports/main Sources 2021-03-17-2005.35.pdiff [42 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:20 http://deb.debian.org/debian buster-backports/main Sources 2021-03-18-0802.27.pdiff [52 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:21 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-16-1400.42.pdiff [6447 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 93% [21 Packages 6447 B/6447 B 100%][0m
google_compute_instance.prod (remote-exec): Get:22 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-16-2001.09.pdiff [802 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:23 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-0207.55.pdiff [3641 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:24 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-1400.51.pdiff [886 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:25 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-2005.35.pdiff [1501 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:26 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-16-1400.42.pdiff [5612 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:27 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-16-2001.09.pdiff [2381 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 94% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:20 http://deb.debian.org/debian buster-backports/main Sources 2021-03-18-0802.27.pdiff [52 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:28 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-17-0207.55.pdiff [1303 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:29 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-17-1400.51.pdiff [656 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 95% [20 Sources rred 0 B][0m
google_compute_instance.prod (remote-exec): Get:25 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-2005.35.pdiff [1501 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 95% [25 Packages rred 0 B] [20 Sources [0m
google_compute_instance.prod (remote-exec): Get:30 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-0802.27.pdiff [790 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 98% [25 Packages rred 171 kB] [20 Sourc[0m[33m
google_compute_instance.prod (remote-exec): 99% [25 Packages rred 171 kB] [20 Sourc[0m
google_compute_instance.prod (remote-exec): Get:31 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-1401.10.pdiff [452 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 99% [25 Packages rred 455 kB] [20 Sourc[0m[33m
google_compute_instance.prod (remote-exec): 99% [25 Packages rred 991 kB] [20 Sourc[0m
google_compute_instance.prod (remote-exec): Get:31 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-1401.10.pdiff [452 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 99% [31 Translation-en rred 0 B] [25 Pa[0m[33m
google_compute_instance.prod (remote-exec): 99% [31 Translation-en rred 613 kB] [25[0m[33m
google_compute_instance.prod (remote-exec): 100% [31 Translation-en rred 1682 kB][0m[33m
google_compute_instance.prod (remote-exec): 96% [Working][0m
google_compute_instance.prod (remote-exec): Fetched 1070 kB in 1s (1007 kB/s)
[0m[0mgoogle_compute_instance.prod (remote-exec): Reading package lists... 0%
google_compute_instance.prod (remote-exec): Reading package lists... 0%
google_compute_instance.prod (remote-exec): Reading package lists... 0%
[0m[0mgoogle_compute_instance.prod (remote-exec): Reading package lists... 53%
google_compute_instance.prod (remote-exec): Reading package lists... 53%
[0m[0mgoogle_compute_instance.prod (remote-exec): Reading package lists... 88%
google_compute_instance.prod (remote-exec): Reading package lists... 88%
google_compute_instance.prod (remote-exec): Reading package lists... 90%
google_compute_instance.prod (remote-exec): Reading package lists... 90%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 95%
google_compute_instance.prod (remote-exec): Reading package lists... 95%
google_compute_instance.prod (remote-exec): Reading package lists... 97%
google_compute_instance.prod (remote-exec): Reading package lists... 97%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... Done
[0m[0mgoogle_compute_instance.prod (remote-exec): Building dependency tree... 0%
google_compute_instance.prod (remote-exec): Building dependency tree... 0%
google_compute_instance.prod (remote-exec): Building dependency tree... 0%
google_compute_instance.prod (remote-exec): Building dependency tree... 50%
google_compute_instance.prod (remote-exec): Building dependency tree... 50%
[0m[0mgoogle_compute_instance.prod (remote-exec): Building dependency tree
[0m[0mgoogle_compute_instance.prod (remote-exec): Reading state information... 0%
google_compute_instance.prod (remote-exec): Reading state information... 0%
google_compute_instance.prod (remote-exec): Reading state information... Done
[0m[0mgoogle_compute_instance.prod (remote-exec): 1 package can be upgraded. Run 'apt list --upgradable' to see it.
[0m[1mgoogle_compute_instance.prod: Creation complete after 26s [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-prod-001][0m[0m
[0m[0mgoogle_compute_instance.dev (remote-exec): Connecting to remote host via SSH...
google_compute_instance.dev (remote-exec):   Host: 35.228.117.220
google_compute_instance.dev (remote-exec):   User: root
google_compute_instance.dev (remote-exec):   Password: false
google_compute_instance.dev (remote-exec):   Private key: true
google_compute_instance.dev (remote-exec):   Certificate: false
google_compute_instance.dev (remote-exec):   SSH Agent: false
google_compute_instance.dev (remote-exec):   Checking Host Key: false
google_compute_instance.dev (remote-exec):   Target Platform: unix
[0m[0mgoogle_compute_instance.dev (remote-exec): Connected!
[0m[1mgoogle_compute_instance.dev: Still creating... [30s elapsed][0m[0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:1 http://packages.cloud.google.com/apt cloud-sdk-buster InRelease [6774 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Waiting for headers] [Waiting for h[0m
google_compute_instance.dev (remote-exec): Hit:2 http://deb.debian.org/debian buster InRelease
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:3 http://security.debian.org/debian-security buster/updates InRelease [65.4 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:4 http://packages.cloud.google.com/apt google-cloud-packages-archive-keyring-buster InRelease [5553 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:5 http://packages.cloud.google.com/apt google-compute-engine-buster-stable InRelease [5526 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:6 http://deb.debian.org/debian buster-updates InRelease [51.9 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [6 InRelease 41.7 kB/51.9 kB 80%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:7 http://deb.debian.org/debian buster-backports InRelease [46.7 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [7 InRelease 3651 B/46.7 kB 8%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:8 http://packages.cloud.google.com/apt cloud-sdk-buster/main amd64 Packages [164 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [8 Packages 164 kB/164 kB 100%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [8 Packages store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:9 http://security.debian.org/debian-security buster/updates/main Sources [179 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [9 Sources 19.1 kB/179 kB 11%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B][0m
google_compute_instance.dev (remote-exec): Get:10 http://security.debian.org/debian-security buster/updates/main amd64 Packages [269 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B] [10 Packages 5[0m[33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B][0m
google_compute_instance.dev (remote-exec): Get:11 http://security.debian.org/debian-security buster/updates/main Translation-en [143 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B] [11 Translatio[0m[33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [10 Packages store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [10 Packages store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [11 Translation-en store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:12 http://deb.debian.org/debian buster-backports/main Sources.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [12 Sources 16.3 kB/27.8 kB 59%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:13 http://deb.debian.org/debian buster-backports/main amd64 Packages.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:14 http://deb.debian.org/debian buster-backports/main Translation-en.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [14 Translation-en 16.3 kB/27.8 kB 5[0m[33m
google_compute_instance.dev (remote-exec): 93% [Working][0m
google_compute_instance.dev (remote-exec): Get:15 http://deb.debian.org/debian buster-backports/main Sources 2021-03-15-2001.23.pdiff [86 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:16 http://deb.debian.org/debian buster-backports/main Sources 2021-03-16-1400.42.pdiff [22.3 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:17 http://deb.debian.org/debian buster-backports/main Sources 2021-03-16-2001.09.pdiff [74 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:18 http://deb.debian.org/debian buster-backports/main Sources 2021-03-17-1400.51.pdiff [2849 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:19 http://deb.debian.org/debian buster-backports/main Sources 2021-03-17-2005.35.pdiff [42 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:20 http://deb.debian.org/debian buster-backports/main Sources 2021-03-18-0802.27.pdiff [52 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:21 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-16-1400.42.pdiff [6447 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:22 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-16-2001.09.pdiff [802 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:23 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-0207.55.pdiff [3641 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:24 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-1400.51.pdiff [886 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 94% [Working][0m
google_compute_instance.dev (remote-exec): Get:20 http://deb.debian.org/debian buster-backports/main Sources 2021-03-18-0802.27.pdiff [52 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 94% [20 Sources rred 0 B] [Waiting for [0m
google_compute_instance.dev (remote-exec): Get:25 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-2005.35.pdiff [1501 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 97% [20 Sources rred 180 kB] [25 Packag[0m[33m
google_compute_instance.dev (remote-exec): 97% [20 Sources rred 363 kB][0m
google_compute_instance.dev (remote-exec): Get:26 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-16-1400.42.pdiff [5612 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:27 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-16-2001.09.pdiff [2381 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:28 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-17-0207.55.pdiff [1303 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:29 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-17-1400.51.pdiff [656 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:30 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-0802.27.pdiff [790 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 99% [20 Sources rred 387 kB] [Waiting f[0m
google_compute_instance.dev (remote-exec): Get:31 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-1401.10.pdiff [452 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 99% [20 Sources rred 404 kB] [31 Transl[0m[33m
google_compute_instance.dev (remote-exec): 99% [20 Sources rred 727 kB][0m
google_compute_instance.dev (remote-exec): Get:25 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-2005.35.pdiff [1501 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 99% [25 Packages rred 0 B] [20 Sources [0m
google_compute_instance.dev (remote-exec): Get:31 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-1401.10.pdiff [452 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 99% [31 Translation-en rred 0 B] [25 Pa[0m[33m
google_compute_instance.dev (remote-exec): 99% [31 Translation-en rred 723 kB] [25[0m[33m
google_compute_instance.dev (remote-exec): 100% [25 Packages rred 2467 kB][0m[33m
google_compute_instance.dev (remote-exec): 96% [Working][0m
google_compute_instance.dev (remote-exec): Fetched 1070 kB in 1s (860 kB/s)
[0m[0mgoogle_compute_instance.dev (remote-exec): Reading package lists... 0%
google_compute_instance.dev (remote-exec): Reading package lists... 0%
google_compute_instance.dev (remote-exec): Reading package lists... 0%
[0m[0mgoogle_compute_instance.dev (remote-exec): Reading package lists... 53%
google_compute_instance.dev (remote-exec): Reading package lists... 53%
[0m[0mgoogle_compute_instance.dev (remote-exec): Reading package lists... 88%
google_compute_instance.dev (remote-exec): Reading package lists... 88%
google_compute_instance.dev (remote-exec): Reading package lists... 90%
google_compute_instance.dev (remote-exec): Reading package lists... 90%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 95%
google_compute_instance.dev (remote-exec): Reading package lists... 95%
google_compute_instance.dev (remote-exec): Reading package lists... 97%
google_compute_instance.dev (remote-exec): Reading package lists... 97%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... Done
[0m[0mgoogle_compute_instance.dev (remote-exec): Building dependency tree... 0%
google_compute_instance.dev (remote-exec): Building dependency tree... 0%
google_compute_instance.dev (remote-exec): Building dependency tree... 0%
google_compute_instance.dev (remote-exec): Building dependency tree... 50%
google_compute_instance.dev (remote-exec): Building dependency tree... 50%
[0m[0mgoogle_compute_instance.dev (remote-exec): Building dependency tree
[0m[0mgoogle_compute_instance.dev (remote-exec): Reading state information... 0%
google_compute_instance.dev (remote-exec): Reading state information... 0%
google_compute_instance.dev (remote-exec): Reading state information... Done
[0m[0mgoogle_compute_instance.dev (remote-exec): 1 package can be upgraded. Run 'apt list --upgradable' to see it.
[0m[1mgoogle_compute_instance.dev: Creation complete after 32s [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001][0m[0m
[0m[1mnull_resource.localexec: Creating...[0m[0m
[0m[1mnull_resource.localexec: Provisioning with 'local-exec'...[0m[0m
[0m[0mnull_resource.localexec (local-exec): Executing: ["/bin/sh" "-c" "ansible-playbook -v playbook.yml --extra-vars 'dev_ip=35.228.117.220 prod_ip=35.228.15.40'"]
[0m[0mnull_resource.localexec (local-exec): Using /etc/ansible/ansible.cfg as config file
[0m[0mnull_resource.localexec (local-exec): [WARNING]: provided hosts list is empty, only localhost is available. Note that
[0m[0mnull_resource.localexec (local-exec): the implicit localhost does not match 'all'
[0m[0m
[0m[0mnull_resource.localexec (local-exec): PLAY [Start] *******************************************************************
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Add new dev instances to host group] *************************************
[0m[0mnull_resource.localexec (local-exec): changed: [localhost] => {"add_host": {"groups": ["dev"], "host_name": "35.228.117.220", "host_vars": {"ansible_ssh_private_key_file": "~/.ssh/id_rsa", "ansible_ssh_user": "root"}}, "changed": true}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Add new prod instances to host group] ************************************
[0m[0mnull_resource.localexec (local-exec): changed: [localhost] => {"add_host": {"groups": ["prod"], "host_name": "35.228.15.40", "host_vars": {"ansible_ssh_private_key_file": "~/.ssh/id_rsa", "ansible_ssh_user": "root"}}, "changed": true}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): PLAY [install Dev enviroment] **************************************************
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Gathering Facts] *********************************************************
[0m[0mnull_resource.localexec (local-exec): [WARNING]: Platform linux on host 35.228.117.220 is using the discovered Python
[0m[0mnull_resource.localexec (local-exec): interpreter at /usr/bin/python3.7, but future installation of another Python
[0m[0mnull_resource.localexec (local-exec): interpreter could change this. See https://docs.ansible.com/ansible/2.9/referen
[0m[0mnull_resource.localexec (local-exec): ce_appendices/interpreter_discovery.html for more information.
[0m[0mnull_resource.localexec (local-exec): ok: [35.228.117.220]
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Ensure Dev-apps are present] *********************************************
[0m[1mnull_resource.localexec: Still creating... [10s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [20s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [30s elapsed][0m[0m
[0m[0m
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [git clone java app] ******************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.117.220] => {"after": "4011fe153a243ab5f34b27c9897fb3a898824b90", "before": null, "changed": true}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [change pom.xml] **********************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.117.220] => {"backup": "", "changed": true, "msg": "line replaced"}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [build app] ***************************************************************
[0m[1mnull_resource.localexec: Still creating... [40s elapsed][0m[0m
[0m[0m
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Configure ssh] ***********************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.117.220] => {"changed": true, "checksum": "6c3a5d4d420827089489ae850cd10ec406f87773", "dest": "/root/.ssh/id_rsa", "gid": 0, "group": "root", "md5sum": "bd28d314c832d1d32f2fc4c5de005209", "mode": "0600", "owner": "root", "size": 2602, "src": "/root/.ansible/tmp/ansible-tmp-1616393408.9693959-249877984618204/source", "state": "file", "uid": 0}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): PLAY [install Prod enviroment] *************************************************
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Gathering Facts] *********************************************************
[0m[1mnull_resource.localexec: Still creating... [50s elapsed][0m[0m
[0m[0mnull_resource.localexec (local-exec): [WARNING]: Platform linux on host 35.228.15.40 is using the discovered Python
[0m[0mnull_resource.localexec (local-exec): interpreter at /usr/bin/python3.7, but future installation of another Python
[0m[0mnull_resource.localexec (local-exec): interpreter could change this. See https://docs.ansible.com/ansible/2.9/referen
[0m[0mnull_resource.localexec (local-exec): ce_appendices/interpreter_discovery.html for more information.
[0m[0mnull_resource.localexec (local-exec): ok: [35.228.15.40]
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Ensure Prod-apps are present] ********************************************
[0m[1mnull_resource.localexec: Still creating... [1m0s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m10s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m20s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m30s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m40s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m50s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [2m0s elapsed][0m[0m
[0m[0m
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Pip install docker] ******************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.15.40] => {"changed": true, "cmd": ["pip3", "install", "docker"], "delta": "0:00:02.680331", "end": "2021-03-22 06:11:23.703921", "rc": 0, "start": "2021-03-22 06:11:21.023590", "stderr": "", "stderr_lines": [], "stdout": "Collecting docker\n  Downloading https://files.pythonhosted.org/packages/c4/22/410313ad554477e87ec406d38d85f810e61ddb0d2fc44e64994857476de9/docker-4.4.4-py2.py3-none-any.whl (147kB)\nCollecting websocket-client>=0.32.0 (from docker)\n  Downloading https://files.pythonhosted.org/packages/08/33/80e0d4f60e84a1ddd9a03f340be1065a2a363c47ce65c4bd3bae65ce9631/websocket_client-0.58.0-py2.py3-none-any.whl (61kB)\nRequirement already satisfied: six>=1.4.0 in /usr/lib/python3/dist-packages (from docker) (1.12.0)\nCollecting requests!=2.18.0,>=2.14.2 (from docker)\n  Downloading https://files.pythonhosted.org/packages/29/c1/24814557f1d22c56d50280771a17307e6bf87b70727d975fd6b2ce6b014a/requests-2.25.1-py2.py3-none-any.whl (61kB)\nCollecting certifi>=2017.4.17 (from requests!=2.18.0,>=2.14.2->docker)\n  Downloading https://files.pythonhosted.org/packages/5e/a0/5f06e1e1d463903cf0c0eebeb751791119ed7a4b3737fdc9a77f1cdfb51f/certifi-2020.12.5-py2.py3-none-any.whl (147kB)\nCollecting chardet<5,>=3.0.2 (from requests!=2.18.0,>=2.14.2->docker)\n  Downloading https://files.pythonhosted.org/packages/19/c7/fa589626997dd07bd87d9269342ccb74b1720384a4d739a1872bd84fbe68/chardet-4.0.0-py2.py3-none-any.whl (178kB)\nCollecting urllib3<1.27,>=1.21.1 (from requests!=2.18.0,>=2.14.2->docker)\n  Downloading https://files.pythonhosted.org/packages/09/c6/d3e3abe5b4f4f16cf0dfc9240ab7ce10c2baa0e268989a4e3ec19e90c84e/urllib3-1.26.4-py2.py3-none-any.whl (153kB)\nCollecting idna<3,>=2.5 (from requests!=2.18.0,>=2.14.2->docker)\n  Downloading https://files.pythonhosted.org/packages/a2/38/928ddce2273eaa564f6f50de919327bf3a00f091b5baba8dfa9460f3a8a8/idna-2.10-py2.py3-none-any.whl (58kB)\nInstalling collected packages: websocket-client, certifi, chardet, urllib3, idna, requests, docker\nSuccessfully installed certifi-2020.12.5 chardet-4.0.0 docker-4.4.4 idna-2.10 requests-2.25.1 urllib3-1.26.4 websocket-client-0.58.0", "stdout_lines": ["Collecting docker", "  Downloading https://files.pythonhosted.org/packages/c4/22/410313ad554477e87ec406d38d85f810e61ddb0d2fc44e64994857476de9/docker-4.4.4-py2.py3-none-any.whl (147kB)", "Collecting websocket-client>=0.32.0 (from docker)", "  Downloading https://files.pythonhosted.org/packages/08/33/80e0d4f60e84a1ddd9a03f340be1065a2a363c47ce65c4bd3bae65ce9631/websocket_client-0.58.0-py2.py3-none-any.whl (61kB)", "Requirement already satisfied: six>=1.4.0 in /usr/lib/python3/dist-packages (from docker) (1.12.0)", "Collecting requests!=2.18.0,>=2.14.2 (from docker)", "  Downloading https://files.pythonhosted.org/packages/29/c1/24814557f1d22c56d50280771a17307e6bf87b70727d975fd6b2ce6b014a/requests-2.25.1-py2.py3-none-any.whl (61kB)", "Collecting certifi>=2017.4.17 (from requests!=2.18.0,>=2.14.2->docker)", "  Downloading https://files.pythonhosted.org/packages/5e/a0/5f06e1e1d463903cf0c0eebeb751791119ed7a4b3737fdc9a77f1cdfb51f/certifi-2020.12.5-py2.py3-none-any.whl (147kB)", "Collecting chardet<5,>=3.0.2 (from requests!=2.18.0,>=2.14.2->docker)", "  Downloading https://files.pythonhosted.org/packages/19/c7/fa589626997dd07bd87d9269342ccb74b1720384a4d739a1872bd84fbe68/chardet-4.0.0-py2.py3-none-any.whl (178kB)", "Collecting urllib3<1.27,>=1.21.1 (from requests!=2.18.0,>=2.14.2->docker)", "  Downloading https://files.pythonhosted.org/packages/09/c6/d3e3abe5b4f4f16cf0dfc9240ab7ce10c2baa0e268989a4e3ec19e90c84e/urllib3-1.26.4-py2.py3-none-any.whl (153kB)", "Collecting idna<3,>=2.5 (from requests!=2.18.0,>=2.14.2->docker)", "  Downloading https://files.pythonhosted.org/packages/a2/38/928ddce2273eaa564f6f50de919327bf3a00f091b5baba8dfa9460f3a8a8/idna-2.10-py2.py3-none-any.whl (58kB)", "Installing collected packages: websocket-client, certifi, chardet, urllib3, idna, requests, docker", "Successfully installed certifi-2020.12.5 chardet-4.0.0 docker-4.4.4 idna-2.10 requests-2.25.1 urllib3-1.26.4 websocket-client-0.58.0"]}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Getting artifact] ********************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.15.40 -> 35.228.117.220] => {"changed": true, "cmd": "/usr/bin/rsync --delay-updates -F --compress --archive --rsh=/usr/bin/ssh -S none -i /root/.ssh/id_rsa -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null --rsync-path=sudo rsync --out-format=<<CHANGED>>%i %n%L /opt/myapp/target/Puzzle15-1.0-SNAPSHOT.war root@35.228.15.40:/root/Puzzle15-1.0-SNAPSHOT.war", "msg": "<f+++++++++ Puzzle15-1.0-SNAPSHOT.war\n", "rc": 0, "stdout_lines": ["<f+++++++++ Puzzle15-1.0-SNAPSHOT.war"]}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Push Dockerfile] *********************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.15.40] => {"changed": true, "checksum": "60873213f61912896e57aff60c3393678330e98f", "dest": "/root/Dockerfile", "gid": 0, "group": "root", "md5sum": "c98f54746b91e4eb33c5f389e09f1763", "mode": "0644", "owner": "root", "size": 890, "src": "/root/.ansible/tmp/ansible-tmp-1616393484.633454-137746694061055/source", "state": "file", "uid": 0}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Build image] *************************************************************
[0m[1mnull_resource.localexec: Still creating... [2m10s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [2m20s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [2m30s elapsed][0m[0m
[0m[0mnull_resource.localexec (local-exec): [WARNING]: The default for build.pull is currently 'yes', but will be changed
[0m[0mnull_resource.localexec (local-exec): to 'no' in Ansible 2.12. Please set build.pull explicitly to the value you
[0m[0mnull_resource.localexec (local-exec): need.
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.15.40] => {"actions": ["Built image prodimg:latest from /root"], "changed": true, "image": {"Architecture": "amd64", "Author": "", "Comment": "", "Config": {"AttachStderr": false, "AttachStdin": false, "AttachStdout": false, "Cmd": null, "Domainname": "", "Entrypoint": ["catalina.sh", "run"], "Env": ["PATH=/opt/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "TOMCAT_MAJOR=9", "TOMCAT_VERSION=9.0.43", "CATALINA_HOME=/opt/tomcat"], "ExposedPorts": {"8080/tcp": {}}, "Hostname": "", "Image": "sha256:1bc360572145fb1daa947db1a32f28fb85438ea7a5e0be05e0c8b3510e5b694c", "Labels": null, "OnBuild": null, "OpenStdin": false, "StdinOnce": false, "Tty": false, "User": "", "Volumes": null, "WorkingDir": "/opt/tomcat"}, "Container": "eba2b2833542b7b096def7007c725784e5c6b2af4e792cd63e32759327251ac7", "ContainerConfig": {"AttachStderr": false, "AttachStdin": false, "AttachStdout": false, "Cmd": ["/bin/sh", "-c", "#(nop) ", "ENTRYPOINT [\"catalina.sh\" \"run\"]"], "Domainname": "", "Entrypoint": ["catalina.sh", "run"], "Env": ["PATH=/opt/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "TOMCAT_MAJOR=9", "TOMCAT_VERSION=9.0.43", "CATALINA_HOME=/opt/tomcat"], "ExposedPorts": {"8080/tcp": {}}, "Hostname": "eba2b2833542", "Image": "sha256:1bc360572145fb1daa947db1a32f28fb85438ea7a5e0be05e0c8b3510e5b694c", "Labels": {}, "OnBuild": null, "OpenStdin": false, "StdinOnce": false, "Tty": false, "User": "", "Volumes": null, "WorkingDir": "/opt/tomcat"}, "Created": "2021-03-22T06:11:58.4340481Z", "DockerVersion": "18.09.1", "GraphDriver": {"Data": {"LowerDir": "/var/lib/docker/overlay2/05405baff785256c177368797674e5362a3040abbdf0ea4fb0f0b383917a06fe/diff:/var/lib/docker/overlay2/a22985e928280671a5efd661e9abc48c2e306dbb5ddbbc45aac6d0edc2cda199/diff:/var/lib/docker/overlay2/9bc3c31203b5f1f9270d3717284ddba15676fc2277f53499c1e8e907382ff786/diff:/var/lib/docker/overlay2/79e0bf3c38da6c377414fa897c6ebc8ce24f432f35f5650d605608f0df65995e/diff:/var/lib/docker/overlay2/b5b015c0ce12c90f3611337feec4d4749b7a35d10a90750a88788fc76523b2ef/diff:/var/lib/docker/overlay2/cabb9bd90eecd5c4f23f6d6222174a85f6dcb6ddf13d8c48fe5974de61a7f7ef/diff", "MergedDir": "/var/lib/docker/overlay2/d23ff99e3db951185e816d032c9dd66f5144f11c345528dd28bb4054f45e653a/merged", "UpperDir": "/var/lib/docker/overlay2/d23ff99e3db951185e816d032c9dd66f5144f11c345528dd28bb4054f45e653a/diff", "WorkDir": "/var/lib/docker/overlay2/d23ff99e3db951185e816d032c9dd66f5144f11c345528dd28bb4054f45e653a/work"}, "Name": "overlay2"}, "Id": "sha256:3b90c9b54f47fc139cf2ceaf4642cf971c0d0243fea3e60c2a19486766294fb1", "Metadata": {"LastTagTime": "2021-03-22T06:11:58.512008237Z"}, "Os": "linux", "Parent": "sha256:1bc360572145fb1daa947db1a32f28fb85438ea7a5e0be05e0c8b3510e5b694c", "RepoDigests": [], "RepoTags": ["prodimg:latest"], "RootFS": {"Layers": ["sha256:cb381a32b2296e4eb5af3f84092a2e6685e88adbc54ee0768a1a1010ce6376c7", "sha256:90c340bcd10cdd3dc74ea49d70b5a59102334e573535ae2c96504dd50c34444c", "sha256:d1fbfd070d3e458c6550b99a0228a7ec2d7e561c113de285d743cdd954ae2fbc", "sha256:9bcdbc928d00d46ccc7a5acb0a06773e1bcb7412bfbf7d2fc7648be3fc1c8df3", "sha256:e640a661b2b4809b5967f350516a12673e77fc3b30a94aff520b8690ae4adf53", "sha256:40f1d59d3593d0d0a7140c622b0470c13924e9ed26249f44c2907d5e805f9e17", "sha256:5f66e975d052c787617d7d2e57bb4317ff8551aa707ee2f435fe6bf3936f091c"], "Type": "layers"}, "Size": 327916847, "VirtualSize": 327916847}}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Start docker container] **************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.15.40] => {"ansible_facts": {"docker_container": {"AppArmorProfile": "docker-default", "Args": ["run"], "Config": {"AttachStderr": false, "AttachStdin": false, "AttachStdout": false, "Cmd": null, "Domainname": "", "Entrypoint": ["catalina.sh", "run"], "Env": ["PATH=/opt/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "TOMCAT_MAJOR=9", "TOMCAT_VERSION=9.0.43", "CATALINA_HOME=/opt/tomcat"], "ExposedPorts": {"8080/tcp": {}}, "Hostname": "103a8d11664c", "Image": "prodimg", "Labels": {}, "OnBuild": null, "OpenStdin": false, "StdinOnce": false, "Tty": false, "User": "", "Volumes": null, "WorkingDir": "/opt/tomcat"}, "Created": "2021-03-22T06:11:59.242728823Z", "Driver": "overlay2", "ExecIDs": null, "GraphDriver": {"Data": {"LowerDir": "/var/lib/docker/overlay2/3865701ffc269faea9e2f000610c27f5c5283efef15de6ffdee1300641a7f3b4-init/diff:/var/lib/docker/overlay2/d23ff99e3db951185e816d032c9dd66f5144f11c345528dd28bb4054f45e653a/diff:/var/lib/docker/overlay2/05405baff785256c177368797674e5362a3040abbdf0ea4fb0f0b383917a06fe/diff:/var/lib/docker/overlay2/a22985e928280671a5efd661e9abc48c2e306dbb5ddbbc45aac6d0edc2cda199/diff:/var/lib/docker/overlay2/9bc3c31203b5f1f9270d3717284ddba15676fc2277f53499c1e8e907382ff786/diff:/var/lib/docker/overlay2/79e0bf3c38da6c377414fa897c6ebc8ce24f432f35f5650d605608f0df65995e/diff:/var/lib/docker/overlay2/b5b015c0ce12c90f3611337feec4d4749b7a35d10a90750a88788fc76523b2ef/diff:/var/lib/docker/overlay2/cabb9bd90eecd5c4f23f6d6222174a85f6dcb6ddf13d8c48fe5974de61a7f7ef/diff", "MergedDir": "/var/lib/docker/overlay2/3865701ffc269faea9e2f000610c27f5c5283efef15de6ffdee1300641a7f3b4/merged", "UpperDir": "/var/lib/docker/overlay2/3865701ffc269faea9e2f000610c27f5c5283efef15de6ffdee1300641a7f3b4/diff", "WorkDir": "/var/lib/docker/overlay2/3865701ffc269faea9e2f000610c27f5c5283efef15de6ffdee1300641a7f3b4/work"}, "Name": "overlay2"}, "HostConfig": {"AutoRemove": false, "Binds": [], "BlkioDeviceReadBps": null, "BlkioDeviceReadIOps": null, "BlkioDeviceWriteBps": null, "BlkioDeviceWriteIOps": null, "BlkioWeight": 0, "BlkioWeightDevice": null, "CapAdd": null, "CapDrop": null, "Cgroup": "", "CgroupParent": "", "ConsoleSize": [0, 0], "ContainerIDFile": "", "CpuCount": 0, "CpuPercent": 0, "CpuPeriod": 0, "CpuQuota": 0, "CpuRealtimePeriod": 0, "CpuRealtimeRuntime": 0, "CpuShares": 0, "CpusetCpus": "", "CpusetMems": "", "DeviceCgroupRules": null, "Devices": null, "DiskQuota": 0, "Dns": null, "DnsOptions": null, "DnsSearch": null, "ExtraHosts": null, "GroupAdd": null, "IOMaximumBandwidth": 0, "IOMaximumIOps": 0, "Init": false, "IpcMode": "shareable", "Isolation": "", "KernelMemory": 0, "Links": null, "LogConfig": {"Config": {}, "Type": "json-file"}, "MaskedPaths": ["/proc/asound", "/proc/acpi", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/proc/scsi", "/sys/firmware"], "Memory": 0, "MemoryReservation": 0, "MemorySwap": 0, "MemorySwappiness": null, "NanoCpus": 0, "NetworkMode": "default", "OomKillDisable": false, "OomScoreAdj": 0, "PidMode": "", "PidsLimit": 0, "PortBindings": {"8080/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]}, "Privileged": false, "PublishAllPorts": false, "ReadonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "ReadonlyRootfs": false, "RestartPolicy": {"MaximumRetryCount": 0, "Name": ""}, "Runtime": "runc", "SecurityOpt": null, "ShmSize": 67108864, "UTSMode": "", "Ulimits": null, "UsernsMode": "", "VolumeDriver": "", "VolumesFrom": null}, "HostnamePath": "/var/lib/docker/containers/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120/hostname", "HostsPath": "/var/lib/docker/containers/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120/hosts", "Id": "103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120", "Image": "sha256:3b90c9b54f47fc139cf2ceaf4642cf971c0d0243fea3e60c2a19486766294fb1", "LogPath": "/var/lib/docker/containers/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120-json.log", "MountLabel": "", "Mounts": [], "Name": "/prodcont", "NetworkSettings": {"Bridge": "", "EndpointID": "fdc0576480d509950cb3a4dd22166974b17901cfe31df4f12f8d9e2cae480809", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "HairpinMode": false, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "LinkLocalIPv6Address": "", "LinkLocalIPv6PrefixLen": 0, "MacAddress": "02:42:ac:11:00:02", "Networks": {"bridge": {"Aliases": null, "DriverOpts": null, "EndpointID": "fdc0576480d509950cb3a4dd22166974b17901cfe31df4f12f8d9e2cae480809", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "IPAMConfig": null, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "Links": null, "MacAddress": "02:42:ac:11:00:02", "NetworkID": "3fb7b681f59ad70aa0da02a2983ce2c850cf8aa0b7bbdb052d85f32f0882abc2"}}, "Ports": {"8080/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]}, "SandboxID": "553141384f053f07f5920dbc55f13425b5aff1f8f927427eecfe4632985022ee", "SandboxKey": "/var/run/docker/netns/553141384f05", "SecondaryIPAddresses": null, "SecondaryIPv6Addresses": null}, "Path": "catalina.sh", "Platform": "linux", "ProcessLabel": "", "ResolvConfPath": "/var/lib/docker/containers/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120/resolv.conf", "RestartCount": 0, "State": {"Dead": false, "Error": "", "ExitCode": 0, "FinishedAt": "0001-01-01T00:00:00Z", "OOMKilled": false, "Paused": false, "Pid": 11249, "Restarting": false, "Running": true, "StartedAt": "2021-03-22T06:11:59.797143224Z", "Status": "running"}}}, "changed": true, "container": {"AppArmorProfile": "docker-default", "Args": ["run"], "Config": {"AttachStderr": false, "AttachStdin": false, "AttachStdout": false, "Cmd": null, "Domainname": "", "Entrypoint": ["catalina.sh", "run"], "Env": ["PATH=/opt/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "TOMCAT_MAJOR=9", "TOMCAT_VERSION=9.0.43", "CATALINA_HOME=/opt/tomcat"], "ExposedPorts": {"8080/tcp": {}}, "Hostname": "103a8d11664c", "Image": "prodimg", "Labels": {}, "OnBuild": null, "OpenStdin": false, "StdinOnce": false, "Tty": false, "User": "", "Volumes": null, "WorkingDir": "/opt/tomcat"}, "Created": "2021-03-22T06:11:59.242728823Z", "Driver": "overlay2", "ExecIDs": null, "GraphDriver": {"Data": {"LowerDir": "/var/lib/docker/overlay2/3865701ffc269faea9e2f000610c27f5c5283efef15de6ffdee1300641a7f3b4-init/diff:/var/lib/docker/overlay2/d23ff99e3db951185e816d032c9dd66f5144f11c345528dd28bb4054f45e653a/diff:/var/lib/docker/overlay2/05405baff785256c177368797674e5362a3040abbdf0ea4fb0f0b383917a06fe/diff:/var/lib/docker/overlay2/a22985e928280671a5efd661e9abc48c2e306dbb5ddbbc45aac6d0edc2cda199/diff:/var/lib/docker/overlay2/9bc3c31203b5f1f9270d3717284ddba15676fc2277f53499c1e8e907382ff786/diff:/var/lib/docker/overlay2/79e0bf3c38da6c377414fa897c6ebc8ce24f432f35f5650d605608f0df65995e/diff:/var/lib/docker/overlay2/b5b015c0ce12c90f3611337feec4d4749b7a35d10a90750a88788fc76523b2ef/diff:/var/lib/docker/overlay2/cabb9bd90eecd5c4f23f6d6222174a85f6dcb6ddf13d8c48fe5974de61a7f7ef/diff", "MergedDir": "/var/lib/docker/overlay2/3865701ffc269faea9e2f000610c27f5c5283efef15de6ffdee1300641a7f3b4/merged", "UpperDir": "/var/lib/docker/overlay2/3865701ffc269faea9e2f000610c27f5c5283efef15de6ffdee1300641a7f3b4/diff", "WorkDir": "/var/lib/docker/overlay2/3865701ffc269faea9e2f000610c27f5c5283efef15de6ffdee1300641a7f3b4/work"}, "Name": "overlay2"}, "HostConfig": {"AutoRemove": false, "Binds": [], "BlkioDeviceReadBps": null, "BlkioDeviceReadIOps": null, "BlkioDeviceWriteBps": null, "BlkioDeviceWriteIOps": null, "BlkioWeight": 0, "BlkioWeightDevice": null, "CapAdd": null, "CapDrop": null, "Cgroup": "", "CgroupParent": "", "ConsoleSize": [0, 0], "ContainerIDFile": "", "CpuCount": 0, "CpuPercent": 0, "CpuPeriod": 0, "CpuQuota": 0, "CpuRealtimePeriod": 0, "CpuRealtimeRuntime": 0, "CpuShares": 0, "CpusetCpus": "", "CpusetMems": "", "DeviceCgroupRules": null, "Devices": null, "DiskQuota": 0, "Dns": null, "DnsOptions": null, "DnsSearch": null, "ExtraHosts": null, "GroupAdd": null, "IOMaximumBandwidth": 0, "IOMaximumIOps": 0, "Init": false, "IpcMode": "shareable", "Isolation": "", "KernelMemory": 0, "Links": null, "LogConfig": {"Config": {}, "Type": "json-file"}, "MaskedPaths": ["/proc/asound", "/proc/acpi", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/proc/scsi", "/sys/firmware"], "Memory": 0, "MemoryReservation": 0, "MemorySwap": 0, "MemorySwappiness": null, "NanoCpus": 0, "NetworkMode": "default", "OomKillDisable": false, "OomScoreAdj": 0, "PidMode": "", "PidsLimit": 0, "PortBindings": {"8080/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]}, "Privileged": false, "PublishAllPorts": false, "ReadonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "ReadonlyRootfs": false, "RestartPolicy": {"MaximumRetryCount": 0, "Name": ""}, "Runtime": "runc", "SecurityOpt": null, "ShmSize": 67108864, "UTSMode": "", "Ulimits": null, "UsernsMode": "", "VolumeDriver": "", "VolumesFrom": null}, "HostnamePath": "/var/lib/docker/containers/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120/hostname", "HostsPath": "/var/lib/docker/containers/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120/hosts", "Id": "103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120", "Image": "sha256:3b90c9b54f47fc139cf2ceaf4642cf971c0d0243fea3e60c2a19486766294fb1", "LogPath": "/var/lib/docker/containers/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120-json.log", "MountLabel": "", "Mounts": [], "Name": "/prodcont", "NetworkSettings": {"Bridge": "", "EndpointID": "fdc0576480d509950cb3a4dd22166974b17901cfe31df4f12f8d9e2cae480809", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "HairpinMode": false, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "LinkLocalIPv6Address": "", "LinkLocalIPv6PrefixLen": 0, "MacAddress": "02:42:ac:11:00:02", "Networks": {"bridge": {"Aliases": null, "DriverOpts": null, "EndpointID": "fdc0576480d509950cb3a4dd22166974b17901cfe31df4f12f8d9e2cae480809", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "IPAMConfig": null, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "Links": null, "MacAddress": "02:42:ac:11:00:02", "NetworkID": "3fb7b681f59ad70aa0da02a2983ce2c850cf8aa0b7bbdb052d85f32f0882abc2"}}, "Ports": {"8080/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]}, "SandboxID": "553141384f053f07f5920dbc55f13425b5aff1f8f927427eecfe4632985022ee", "SandboxKey": "/var/run/docker/netns/553141384f05", "SecondaryIPAddresses": null, "SecondaryIPv6Addresses": null}, "Path": "catalina.sh", "Platform": "linux", "ProcessLabel": "", "ResolvConfPath": "/var/lib/docker/containers/103a8d11664cc760192edfc05714db7786fe5e3635a19a6208df484368803120/resolv.conf", "RestartCount": 0, "State": {"Dead": false, "Error": "", "ExitCode": 0, "FinishedAt": "0001-01-01T00:00:00Z", "OOMKilled": false, "Paused": false, "Pid": 11249, "Restarting": false, "Running": true, "StartedAt": "2021-03-22T06:11:59.797143224Z", "Status": "running"}}}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): PLAY RECAP *********************************************************************
[0m[0mnull_resource.localexec (local-exec): 35.228.117.220             : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
[0m[0mnull_resource.localexec (local-exec): 35.228.15.40               : ok=7    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
[0m[0mnull_resource.localexec (local-exec): localhost                  : ok=2    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
[0m[0m
[0m[1mnull_resource.localexec: Creation complete after 2m40s [id=8058237855087076397][0m[0m
[33m
[1m[33mWarning: [0m[0m[1mInterpolation-only expressions are deprecated[0m

[0m  on main.tf line 67, in resource "google_compute_instance" "prod":
  67:     private_key = [4m"${file("~/.ssh/id_rsa")}"[0m
[0m
Terraform 0.11 and earlier required all non-constant expressions to be
provided via interpolation syntax, but this pattern is now deprecated. To
silence this warning, remove the "${ sequence from the start and the }"
sequence from the end of this expression, leaving just the inner expression.

Template interpolation syntax is still used to construct strings from
expressions when the template includes multiple interpolation sequences or a
mixture of literal strings and interpolations. This deprecation applies only
to templates that consist entirely of a single interpolation sequence.
[0m[0m
[0m[1m[32m
Apply complete! Resources: 3 added, 0 changed, 0 destroyed.[0m
[0m[1m[32m
Outputs:

prod_ip_addr = "35.228.15.40"[0m
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform destroy dev)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ terraform destroy -target=google_compute_instance.dev -auto-approve
[0m[1mnull_resource.localexec: Destroying... [id=8058237855087076397][0m[0m
[0m[1mnull_resource.localexec: Destruction complete after 0s[0m[0m
[0m[1mgoogle_compute_instance.dev: Destroying... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001][0m[0m
[0m[1mgoogle_compute_instance.dev: Still destroying... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001, 10s elapsed][0m[0m
[0m[1mgoogle_compute_instance.dev: Still destroying... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001, 20s elapsed][0m[0m
[0m[1mgoogle_compute_instance.dev: Destruction complete after 22s[0m[0m
[33m
[1m[33mWarning: [0m[0m[1mResource targeting is in effect[0m

[0mYou are creating a plan with the -target option, which means that the result
of this plan may not represent all of the changes requested by the current
configuration.

The -target option is not for routine use, and is provided only for
exceptional situations such as recovering from errors or mistakes, or when
Terraform specifically suggests to use it as part of an error message.
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1mApplied changes may be incomplete[0m

[0mThe plan was created with the -target option in effect, so some changes
requested in the configuration may have been ignored and the output values may
not be fully updated. Run the following command to verify that no other
changes are pending:
    terraform plan

Note that the -target option is not suitable for routine use, and is provided
only for exceptional situations such as recovering from errors or mistakes, or
when Terraform specifically suggests to use it as part of an error message.
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1mInterpolation-only expressions are deprecated[0m

[0m  on main.tf line 67, in resource "google_compute_instance" "prod":
  67:     private_key = [4m"${file("~/.ssh/id_rsa")}"[0m
[0m
Terraform 0.11 and earlier required all non-constant expressions to be
provided via interpolation syntax, but this pattern is now deprecated. To
silence this warning, remove the "${ sequence from the start and the }"
sequence from the end of this expression, leaving just the inner expression.

Template interpolation syntax is still used to construct strings from
expressions when the template includes multiple interpolation sequences or a
mixture of literal strings and interpolations. This deprecation applies only
to templates that consist entirely of a single interpolation sequence.
[0m[0m
[0m[1m[32m
Destroy complete! Resources: 2 destroyed.[0m
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS