Started by user Andrey G.
Running in Durability level: MAX_SURVIVABILITY
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/pipeline02
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Tool Install)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Git clone)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] git
The recommended git tool is: NONE
using credential 9ca0aa0b-692c-4bd9-a70e-3933625bae8f
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/andgre/VerificationTask # timeout=10
Fetching upstream changes from https://github.com/andgre/VerificationTask
 > git --version # timeout=10
 > git --version # 'git version 2.25.1'
using GIT_ASKPASS to set credentials git credentials 
 > git fetch --tags --force --progress -- https://github.com/andgre/VerificationTask +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision 3bf9a1d59bce867fd19d639996f938f4dc283a4e (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 3bf9a1d59bce867fd19d639996f938f4dc283a4e # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D master # timeout=10
 > git checkout -b master 3bf9a1d59bce867fd19d639996f938f4dc283a4e # timeout=10
Commit message: "commit"
 > git rev-list --no-walk 3bf9a1d59bce867fd19d639996f938f4dc283a4e # timeout=10
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform init)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ terraform init

[0m[1mInitializing the backend...[0m

[0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/google from the dependency lock file
- Reusing previous version of hashicorp/null from the dependency lock file
- Using previously-installed hashicorp/google v3.60.0
- Using previously-installed hashicorp/null v3.1.0

[33m
[1m[33mWarning: [0m[0m[1mInterpolation-only expressions are deprecated[0m

[0m  on main.tf line 67, in resource "google_compute_instance" "prod":
  67:     private_key = [4m"${file("~/.ssh/id_rsa")}"[0m
[0m
Terraform 0.11 and earlier required all non-constant expressions to be
provided via interpolation syntax, but this pattern is now deprecated. To
silence this warning, remove the "${ sequence from the start and the }"
sequence from the end of this expression, leaving just the inner expression.

Template interpolation syntax is still used to construct strings from
expressions when the template includes multiple interpolation sequences or a
mixture of literal strings and interpolations. This deprecation applies only
to templates that consist entirely of a single interpolation sequence.
[0m[0m
[0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform apply)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ terraform apply --auto-approve
[0m[1mgoogle_compute_instance.dev: Refreshing state... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001][0m
[0m[1mgoogle_compute_instance.prod: Refreshing state... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-prod-001][0m
[0m[1mnull_resource.localexec: Refreshing state... [id=6112095030614744644][0m
[0m[1mnull_resource.localexec: Destroying... [id=6112095030614744644][0m[0m
[0m[1mnull_resource.localexec: Destruction complete after 0s[0m[0m
[0m[1mgoogle_compute_instance.dev: Creating...[0m[0m
[0m[1mgoogle_compute_instance.prod: Creating...[0m[0m
[0m[1mgoogle_compute_instance.dev: Still creating... [10s elapsed][0m[0m
[0m[1mgoogle_compute_instance.prod: Still creating... [10s elapsed][0m[0m
[0m[1mgoogle_compute_instance.prod: Provisioning with 'remote-exec'...[0m[0m
[0m[1mgoogle_compute_instance.dev: Provisioning with 'remote-exec'...[0m[0m
[0m[0mgoogle_compute_instance.prod (remote-exec): Connecting to remote host via SSH...
google_compute_instance.prod (remote-exec):   Host: 35.228.16.221
google_compute_instance.prod (remote-exec):   User: root
google_compute_instance.prod (remote-exec):   Password: false
google_compute_instance.prod (remote-exec):   Private key: true
google_compute_instance.prod (remote-exec):   Certificate: false
google_compute_instance.prod (remote-exec):   SSH Agent: false
google_compute_instance.prod (remote-exec):   Checking Host Key: false
google_compute_instance.prod (remote-exec):   Target Platform: unix
[0m[0mgoogle_compute_instance.dev (remote-exec): Connecting to remote host via SSH...
google_compute_instance.dev (remote-exec):   Host: 35.228.15.40
google_compute_instance.dev (remote-exec):   User: root
google_compute_instance.dev (remote-exec):   Password: false
google_compute_instance.dev (remote-exec):   Private key: true
google_compute_instance.dev (remote-exec):   Certificate: false
google_compute_instance.dev (remote-exec):   SSH Agent: false
google_compute_instance.dev (remote-exec):   Checking Host Key: false
google_compute_instance.dev (remote-exec):   Target Platform: unix
[0m[1mgoogle_compute_instance.dev: Still creating... [20s elapsed][0m[0m
[0m[1mgoogle_compute_instance.prod: Still creating... [20s elapsed][0m[0m
[0m[0mgoogle_compute_instance.prod (remote-exec): Connecting to remote host via SSH...
google_compute_instance.prod (remote-exec):   Host: 35.228.16.221
google_compute_instance.prod (remote-exec):   User: root
google_compute_instance.prod (remote-exec):   Password: false
google_compute_instance.prod (remote-exec):   Private key: true
google_compute_instance.prod (remote-exec):   Certificate: false
google_compute_instance.prod (remote-exec):   SSH Agent: false
google_compute_instance.prod (remote-exec):   Checking Host Key: false
google_compute_instance.prod (remote-exec):   Target Platform: unix
[0m[0mgoogle_compute_instance.dev (remote-exec): Connecting to remote host via SSH...
google_compute_instance.dev (remote-exec):   Host: 35.228.15.40
google_compute_instance.dev (remote-exec):   User: root
google_compute_instance.dev (remote-exec):   Password: false
google_compute_instance.dev (remote-exec):   Private key: true
google_compute_instance.dev (remote-exec):   Certificate: false
google_compute_instance.dev (remote-exec):   SSH Agent: false
google_compute_instance.dev (remote-exec):   Checking Host Key: false
google_compute_instance.dev (remote-exec):   Target Platform: unix
[0m[0mgoogle_compute_instance.dev (remote-exec): Connected!
[0m[0mgoogle_compute_instance.prod (remote-exec): Connected!
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:1 http://packages.cloud.google.com/apt cloud-sdk-buster InRelease [6774 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Connecting to debian.map.fastlydns.[0m
google_compute_instance.dev (remote-exec): Get:2 http://packages.cloud.google.com/apt google-cloud-packages-archive-keyring-buster InRelease [5553 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Waiting for headers] [Waiting for h[0m
google_compute_instance.dev (remote-exec): Hit:3 http://deb.debian.org/debian buster InRelease
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:4 http://security.debian.org/debian-security buster/updates InRelease [65.4 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [4 InRelease 13.5 kB/65.4 kB 21%] [W[0m
google_compute_instance.dev (remote-exec): Get:5 http://packages.cloud.google.com/apt google-compute-engine-buster-stable InRelease [5526 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Waiting for headers] [4 InRelease 4[0m[33m
google_compute_instance.dev (remote-exec): 0% [Waiting for headers] [4 InRelease 4[0m
google_compute_instance.dev (remote-exec): Get:6 http://deb.debian.org/debian buster-updates InRelease [51.9 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:1 http://packages.cloud.google.com/apt cloud-sdk-buster InRelease [6774 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [6 InRelease 35.2 kB/51.9 kB 68%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:7 http://deb.debian.org/debian buster-backports InRelease [46.7 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Connecting to debian.map.fastlydns.[0m
google_compute_instance.prod (remote-exec): Get:2 http://packages.cloud.google.com/apt google-cloud-packages-archive-keyring-buster InRelease [5553 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers] [Waiting for h[0m
google_compute_instance.prod (remote-exec): Get:3 http://security.debian.org/debian-security buster/updates InRelease [65.4 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers] [3 InRelease 2[0m
google_compute_instance.prod (remote-exec): Hit:4 http://deb.debian.org/debian buster InRelease
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers] [3 InRelease 4[0m[33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers] [Waiting for h[0m
google_compute_instance.prod (remote-exec): Get:5 http://deb.debian.org/debian buster-updates InRelease [51.9 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [5 InRelease 1408 B/51.9 kB 3%] [Wai[0m[33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers] [Waiting for h[0m
google_compute_instance.prod (remote-exec): Get:6 http://deb.debian.org/debian buster-backports InRelease [46.7 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [6 InRelease 17.7 kB/46.7 kB 38%] [W[0m[33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:7 http://packages.cloud.google.com/apt google-compute-engine-buster-stable InRelease [5526 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [7 InRelease 12.2 kB/46.7 kB 26%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [7 InRelease 3592 B/5526 B 65%][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:8 http://packages.cloud.google.com/apt cloud-sdk-buster/main amd64 Packages [164 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:8 http://packages.cloud.google.com/apt cloud-sdk-buster/main amd64 Packages [164 kB]
[0m[1mgoogle_compute_instance.dev: Still creating... [30s elapsed][0m[0m
[0m[1mgoogle_compute_instance.prod: Still creating... [30s elapsed][0m[0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [8 Packages 164 kB/164 kB 100%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [8 Packages store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [8 Packages 49.2 kB/164 kB 30%][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [8 Packages store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:9 http://security.debian.org/debian-security buster/updates/main Sources [179 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:9 http://security.debian.org/debian-security buster/updates/main Sources [179 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [9 Sources 0 B/179 kB 0%][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B] [Waiting for h[0m
google_compute_instance.prod (remote-exec): Get:10 http://security.debian.org/debian-security buster/updates/main amd64 Packages [269 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [9 Sources 0 B/179 kB 0%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B][0m
google_compute_instance.dev (remote-exec): Get:10 http://security.debian.org/debian-security buster/updates/main amd64 Packages [269 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B] [10 Packages 1[0m[33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B][0m
google_compute_instance.prod (remote-exec): Get:11 http://security.debian.org/debian-security buster/updates/main Translation-en [143 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B] [10 Packages 2[0m
google_compute_instance.dev (remote-exec): Get:11 http://security.debian.org/debian-security buster/updates/main Translation-en [143 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B] [11 Translatio[0m[33m
google_compute_instance.dev (remote-exec): 0% [9 Sources store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [10 Packages store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m[33m
google_compute_instance.dev (remote-exec): 0% [11 Translation-en store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [11 Translation-en store 0 B][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B] [11 Translatio[0m[33m
google_compute_instance.prod (remote-exec): 0% [9 Sources store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [10 Packages store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 0% [11 Translation-en store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [11 Translation-en store 0 B][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:12 http://deb.debian.org/debian buster-backports/main Sources.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [12 Sources 16.3 kB/27.8 kB 59%][0m[33m
google_compute_instance.dev (remote-exec): 0% [Working][0m
google_compute_instance.dev (remote-exec): Get:13 http://deb.debian.org/debian buster-backports/main amd64 Packages.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:14 http://deb.debian.org/debian buster-backports/main Translation-en.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:12 http://deb.debian.org/debian buster-backports/main Sources.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 0% [14 Translation-en 27.8 kB/27.8 kB 1[0m[33m
google_compute_instance.dev (remote-exec): 93% [Working][0m
google_compute_instance.dev (remote-exec): Get:15 http://deb.debian.org/debian buster-backports/main Sources 2021-03-15-2001.23.pdiff [86 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:16 http://deb.debian.org/debian buster-backports/main Sources 2021-03-16-1400.42.pdiff [22.3 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:17 http://deb.debian.org/debian buster-backports/main Sources 2021-03-16-2001.09.pdiff [74 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:18 http://deb.debian.org/debian buster-backports/main Sources 2021-03-17-1400.51.pdiff [2849 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:19 http://deb.debian.org/debian buster-backports/main Sources 2021-03-17-2005.35.pdiff [42 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:20 http://deb.debian.org/debian buster-backports/main Sources 2021-03-18-0802.27.pdiff [52 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [12 Sources 16.3 kB/27.8 kB 59%][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:13 http://deb.debian.org/debian buster-backports/main amd64 Packages.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [13 Packages 17.7 kB/27.8 kB 64%][0m
google_compute_instance.prod (remote-exec): Get:14 http://deb.debian.org/debian buster-backports/main Translation-en.diff/Index [27.8 kB]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 93% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:21 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-16-1400.42.pdiff [6447 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:22 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-16-2001.09.pdiff [802 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:23 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-0207.55.pdiff [3641 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:24 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-1400.51.pdiff [886 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:25 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-2005.35.pdiff [1501 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [14 Translation-en 7650 B/27.8 kB 28[0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:15 http://deb.debian.org/debian buster-backports/main Sources 2021-03-15-2001.23.pdiff [86 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:26 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-16-1400.42.pdiff [5612 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:27 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-16-2001.09.pdiff [2381 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 94% [Waiting for headers][0m
google_compute_instance.dev (remote-exec): Get:20 http://deb.debian.org/debian buster-backports/main Sources 2021-03-18-0802.27.pdiff [52 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:16 http://deb.debian.org/debian buster-backports/main Sources 2021-03-16-1400.42.pdiff [22.3 kB]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:17 http://deb.debian.org/debian buster-backports/main Sources 2021-03-16-2001.09.pdiff [74 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:28 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-17-0207.55.pdiff [1303 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): Get:29 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-17-1400.51.pdiff [656 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 94% [20 Sources rred 0 B] [29 Translati[0m[33m
google_compute_instance.dev (remote-exec): 95% [20 Sources rred 0 B] [Waiting for [0m
google_compute_instance.dev (remote-exec): Get:25 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-2005.35.pdiff [1501 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:18 http://deb.debian.org/debian buster-backports/main Sources 2021-03-17-1400.51.pdiff [2849 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:19 http://deb.debian.org/debian buster-backports/main Sources 2021-03-17-2005.35.pdiff [42 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:20 http://deb.debian.org/debian buster-backports/main Sources 2021-03-18-0802.27.pdiff [52 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 96% [25 Packages rred 0 B] [20 Sources [0m
google_compute_instance.dev (remote-exec): Get:30 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-0802.27.pdiff [790 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 99% [25 Packages rred 196 kB] [20 Sourc[0m
google_compute_instance.dev (remote-exec): Get:31 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-1401.10.pdiff [452 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:21 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-16-1400.42.pdiff [6447 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Waiting for headers][0m
google_compute_instance.prod (remote-exec): Get:22 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-16-2001.09.pdiff [802 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:23 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-0207.55.pdiff [3641 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:24 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-1400.51.pdiff [886 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:25 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-2005.35.pdiff [1501 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:26 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-16-1400.42.pdiff [5612 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:27 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-16-2001.09.pdiff [2381 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:28 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-17-0207.55.pdiff [1303 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): Get:29 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-17-1400.51.pdiff [656 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [Working][0m
google_compute_instance.prod (remote-exec): Get:20 http://deb.debian.org/debian buster-backports/main Sources 2021-03-18-0802.27.pdiff [52 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [20 Sources rred 0 B][0m
google_compute_instance.prod (remote-exec): Get:25 http://deb.debian.org/debian buster-backports/main amd64 Packages 2021-03-17-2005.35.pdiff [1501 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 99% [25 Packages rred 909 kB] [20 Sourc[0m
google_compute_instance.dev (remote-exec): Get:31 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-1401.10.pdiff [452 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [25 Packages rred 0 B] [20 Sources r[0m
google_compute_instance.prod (remote-exec): Get:30 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-0802.27.pdiff [790 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [25 Packages rred 12.3 kB] [20 Sourc[0m[33m
google_compute_instance.prod (remote-exec): 0% [25 Packages rred 12.3 kB] [20 Sourc[0m
google_compute_instance.prod (remote-exec): Get:31 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-1401.10.pdiff [452 B]
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [25 Packages rred 175 kB] [20 Source[0m[33m
google_compute_instance.prod (remote-exec): 0% [25 Packages rred 405 kB] [20 Source[0m
google_compute_instance.prod (remote-exec): Get:31 http://deb.debian.org/debian buster-backports/main Translation-en 2021-03-18-1401.10.pdiff [452 B]
[0m[0mgoogle_compute_instance.dev (remote-exec): [33m
google_compute_instance.dev (remote-exec): 99% [31 Translation-en rred 0 B] [25 Pa[0m[33m
google_compute_instance.dev (remote-exec): 99% [31 Translation-en rred 867 kB] [20[0m[33m
google_compute_instance.dev (remote-exec): 100% [31 Translation-en rred 1331 kB][0m[33m
google_compute_instance.dev (remote-exec): 96% [Working][0m
google_compute_instance.dev (remote-exec): Fetched 1070 kB in 1s (948 kB/s)
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [31 Translation-en rred 0 B] [25 Pac[0m
[0m[0mgoogle_compute_instance.prod (remote-exec): [33m
google_compute_instance.prod (remote-exec): 0% [31 Translation-en rred 1493 kB] [20[0m[33m
google_compute_instance.prod (remote-exec): 0% [20 Sources rred 2533 kB][0m[33m
google_compute_instance.prod (remote-exec): 0% [Working][0m[33m
google_compute_instance.prod (remote-exec): 96% [Working][0m
google_compute_instance.prod (remote-exec): Fetched 1070 kB in 1s (904 kB/s)
[0m[0mgoogle_compute_instance.dev (remote-exec): Reading package lists... 0%
google_compute_instance.dev (remote-exec): Reading package lists... 0%
google_compute_instance.dev (remote-exec): Reading package lists... 0%
[0m[0mgoogle_compute_instance.prod (remote-exec): Reading package lists... 0%
google_compute_instance.prod (remote-exec): Reading package lists... 0%
google_compute_instance.prod (remote-exec): Reading package lists... 0%
[0m[0mgoogle_compute_instance.dev (remote-exec): Reading package lists... 53%
google_compute_instance.dev (remote-exec): Reading package lists... 53%
[0m[0mgoogle_compute_instance.prod (remote-exec): Reading package lists... 53%
google_compute_instance.prod (remote-exec): Reading package lists... 53%
[0m[0mgoogle_compute_instance.dev (remote-exec): Reading package lists... 88%
google_compute_instance.dev (remote-exec): Reading package lists... 88%
google_compute_instance.dev (remote-exec): Reading package lists... 90%
google_compute_instance.dev (remote-exec): Reading package lists... 90%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 92%
google_compute_instance.dev (remote-exec): Reading package lists... 95%
google_compute_instance.dev (remote-exec): Reading package lists... 95%
google_compute_instance.dev (remote-exec): Reading package lists... 97%
google_compute_instance.dev (remote-exec): Reading package lists... 97%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... 99%
google_compute_instance.dev (remote-exec): Reading package lists... Done
[0m[0mgoogle_compute_instance.dev (remote-exec): Building dependency tree... 0%
google_compute_instance.dev (remote-exec): Building dependency tree... 0%
google_compute_instance.dev (remote-exec): Building dependency tree... 0%
google_compute_instance.dev (remote-exec): Building dependency tree... 50%
google_compute_instance.dev (remote-exec): Building dependency tree... 50%
[0m[0mgoogle_compute_instance.prod (remote-exec): Reading package lists... 88%
google_compute_instance.prod (remote-exec): Reading package lists... 88%
google_compute_instance.prod (remote-exec): Reading package lists... 90%
google_compute_instance.prod (remote-exec): Reading package lists... 90%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 92%
google_compute_instance.prod (remote-exec): Reading package lists... 95%
google_compute_instance.prod (remote-exec): Reading package lists... 95%
google_compute_instance.prod (remote-exec): Reading package lists... 97%
google_compute_instance.prod (remote-exec): Reading package lists... 97%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... 99%
google_compute_instance.prod (remote-exec): Reading package lists... Done
[0m[0mgoogle_compute_instance.dev (remote-exec): Building dependency tree
[0m[0mgoogle_compute_instance.dev (remote-exec): Reading state information... 0%
google_compute_instance.dev (remote-exec): Reading state information... 0%
google_compute_instance.dev (remote-exec): Reading state information... Done
[0m[0mgoogle_compute_instance.dev (remote-exec): 1 package can be upgraded. Run 'apt list --upgradable' to see it.
[0m[1mgoogle_compute_instance.dev: Creation complete after 32s [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001][0m[0m
[0m[0mgoogle_compute_instance.prod (remote-exec): Building dependency tree... 0%
google_compute_instance.prod (remote-exec): Building dependency tree... 0%
google_compute_instance.prod (remote-exec): Building dependency tree... 0%
google_compute_instance.prod (remote-exec): Building dependency tree... 50%
google_compute_instance.prod (remote-exec): Building dependency tree... 50%
[0m[0mgoogle_compute_instance.prod (remote-exec): Building dependency tree
[0m[0mgoogle_compute_instance.prod (remote-exec): Reading state information... 0%
google_compute_instance.prod (remote-exec): Reading state information... 0%
google_compute_instance.prod (remote-exec): Reading state information... Done
[0m[0mgoogle_compute_instance.prod (remote-exec): 1 package can be upgraded. Run 'apt list --upgradable' to see it.
[0m[1mgoogle_compute_instance.prod: Creation complete after 32s [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-prod-001][0m[0m
[0m[1mnull_resource.localexec: Creating...[0m[0m
[0m[1mnull_resource.localexec: Provisioning with 'local-exec'...[0m[0m
[0m[0mnull_resource.localexec (local-exec): Executing: ["/bin/sh" "-c" "ansible-playbook -v playbook.yml --extra-vars 'dev_ip=35.228.15.40 prod_ip=35.228.16.221'"]
[0m[0mnull_resource.localexec (local-exec): Using /etc/ansible/ansible.cfg as config file
[0m[0mnull_resource.localexec (local-exec): [WARNING]: provided hosts list is empty, only localhost is available. Note that
[0m[0mnull_resource.localexec (local-exec): the implicit localhost does not match 'all'
[0m[0m
[0m[0mnull_resource.localexec (local-exec): PLAY [Start] *******************************************************************
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Add new dev instances to host group] *************************************
[0m[0mnull_resource.localexec (local-exec): changed: [localhost] => {"add_host": {"groups": ["dev"], "host_name": "35.228.15.40", "host_vars": {"ansible_ssh_private_key_file": "~/.ssh/id_rsa", "ansible_ssh_user": "root"}}, "changed": true}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Add new prod instances to host group] ************************************
[0m[0mnull_resource.localexec (local-exec): changed: [localhost] => {"add_host": {"groups": ["prod"], "host_name": "35.228.16.221", "host_vars": {"ansible_ssh_private_key_file": "~/.ssh/id_rsa", "ansible_ssh_user": "root"}}, "changed": true}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): PLAY [install Dev enviroment] **************************************************
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Gathering Facts] *********************************************************
[0m[0mnull_resource.localexec (local-exec): [WARNING]: Platform linux on host 35.228.15.40 is using the discovered Python
[0m[0mnull_resource.localexec (local-exec): interpreter at /usr/bin/python3.7, but future installation of another Python
[0m[0mnull_resource.localexec (local-exec): interpreter could change this. See https://docs.ansible.com/ansible/2.9/referen
[0m[0mnull_resource.localexec (local-exec): ce_appendices/interpreter_discovery.html for more information.
[0m[0mnull_resource.localexec (local-exec): ok: [35.228.15.40]
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Ensure Dev-apps are present] *********************************************
[0m[1mnull_resource.localexec: Still creating... [10s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [20s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [30s elapsed][0m[0m
[0m[0m
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [git clone java app] ******************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.15.40] => {"after": "4011fe153a243ab5f34b27c9897fb3a898824b90", "before": null, "changed": true}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [change pom.xml] **********************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.15.40] => {"backup": "", "changed": true, "msg": "line replaced"}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [build app] ***************************************************************
[0m[1mnull_resource.localexec: Still creating... [40s elapsed][0m[0m
[0m[0m
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Configure ssh] ***********************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.15.40] => {"changed": true, "checksum": "6c3a5d4d420827089489ae850cd10ec406f87773", "dest": "/root/.ssh/id_rsa", "gid": 0, "group": "root", "md5sum": "bd28d314c832d1d32f2fc4c5de005209", "mode": "0600", "owner": "root", "size": 2602, "src": "/root/.ansible/tmp/ansible-tmp-1616397811.8377542-164811224926893/source", "state": "file", "uid": 0}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): PLAY [install Prod enviroment] *************************************************
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Gathering Facts] *********************************************************
[0m[0mnull_resource.localexec (local-exec): [WARNING]: Platform linux on host 35.228.16.221 is using the discovered Python
[0m[0mnull_resource.localexec (local-exec): interpreter at /usr/bin/python3.7, but future installation of another Python
[0m[0mnull_resource.localexec (local-exec): interpreter could change this. See https://docs.ansible.com/ansible/2.9/referen
[0m[0mnull_resource.localexec (local-exec): ce_appendices/interpreter_discovery.html for more information.
[0m[0mnull_resource.localexec (local-exec): ok: [35.228.16.221]
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Ensure Prod-apps are present] ********************************************
[0m[1mnull_resource.localexec: Still creating... [50s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m0s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m10s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m20s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m30s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m40s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [1m50s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [2m0s elapsed][0m[0m
[0m[0m
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Install Docker SDK for Python] *******************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.16.221] => {"changed": true, "cmd": ["pip3", "install", "docker"], "delta": "0:00:02.672326", "end": "2021-03-22 07:24:49.480608", "rc": 0, "start": "2021-03-22 07:24:46.808282", "stderr": "", "stderr_lines": [], "stdout": "Collecting docker\n  Downloading https://files.pythonhosted.org/packages/c4/22/410313ad554477e87ec406d38d85f810e61ddb0d2fc44e64994857476de9/docker-4.4.4-py2.py3-none-any.whl (147kB)\nCollecting websocket-client>=0.32.0 (from docker)\n  Downloading https://files.pythonhosted.org/packages/08/33/80e0d4f60e84a1ddd9a03f340be1065a2a363c47ce65c4bd3bae65ce9631/websocket_client-0.58.0-py2.py3-none-any.whl (61kB)\nRequirement already satisfied: six>=1.4.0 in /usr/lib/python3/dist-packages (from docker) (1.12.0)\nCollecting requests!=2.18.0,>=2.14.2 (from docker)\n  Downloading https://files.pythonhosted.org/packages/29/c1/24814557f1d22c56d50280771a17307e6bf87b70727d975fd6b2ce6b014a/requests-2.25.1-py2.py3-none-any.whl (61kB)\nCollecting idna<3,>=2.5 (from requests!=2.18.0,>=2.14.2->docker)\n  Downloading https://files.pythonhosted.org/packages/a2/38/928ddce2273eaa564f6f50de919327bf3a00f091b5baba8dfa9460f3a8a8/idna-2.10-py2.py3-none-any.whl (58kB)\nCollecting urllib3<1.27,>=1.21.1 (from requests!=2.18.0,>=2.14.2->docker)\n  Downloading https://files.pythonhosted.org/packages/09/c6/d3e3abe5b4f4f16cf0dfc9240ab7ce10c2baa0e268989a4e3ec19e90c84e/urllib3-1.26.4-py2.py3-none-any.whl (153kB)\nCollecting certifi>=2017.4.17 (from requests!=2.18.0,>=2.14.2->docker)\n  Downloading https://files.pythonhosted.org/packages/5e/a0/5f06e1e1d463903cf0c0eebeb751791119ed7a4b3737fdc9a77f1cdfb51f/certifi-2020.12.5-py2.py3-none-any.whl (147kB)\nCollecting chardet<5,>=3.0.2 (from requests!=2.18.0,>=2.14.2->docker)\n  Downloading https://files.pythonhosted.org/packages/19/c7/fa589626997dd07bd87d9269342ccb74b1720384a4d739a1872bd84fbe68/chardet-4.0.0-py2.py3-none-any.whl (178kB)\nInstalling collected packages: websocket-client, idna, urllib3, certifi, chardet, requests, docker\nSuccessfully installed certifi-2020.12.5 chardet-4.0.0 docker-4.4.4 idna-2.10 requests-2.25.1 urllib3-1.26.4 websocket-client-0.58.0", "stdout_lines": ["Collecting docker", "  Downloading https://files.pythonhosted.org/packages/c4/22/410313ad554477e87ec406d38d85f810e61ddb0d2fc44e64994857476de9/docker-4.4.4-py2.py3-none-any.whl (147kB)", "Collecting websocket-client>=0.32.0 (from docker)", "  Downloading https://files.pythonhosted.org/packages/08/33/80e0d4f60e84a1ddd9a03f340be1065a2a363c47ce65c4bd3bae65ce9631/websocket_client-0.58.0-py2.py3-none-any.whl (61kB)", "Requirement already satisfied: six>=1.4.0 in /usr/lib/python3/dist-packages (from docker) (1.12.0)", "Collecting requests!=2.18.0,>=2.14.2 (from docker)", "  Downloading https://files.pythonhosted.org/packages/29/c1/24814557f1d22c56d50280771a17307e6bf87b70727d975fd6b2ce6b014a/requests-2.25.1-py2.py3-none-any.whl (61kB)", "Collecting idna<3,>=2.5 (from requests!=2.18.0,>=2.14.2->docker)", "  Downloading https://files.pythonhosted.org/packages/a2/38/928ddce2273eaa564f6f50de919327bf3a00f091b5baba8dfa9460f3a8a8/idna-2.10-py2.py3-none-any.whl (58kB)", "Collecting urllib3<1.27,>=1.21.1 (from requests!=2.18.0,>=2.14.2->docker)", "  Downloading https://files.pythonhosted.org/packages/09/c6/d3e3abe5b4f4f16cf0dfc9240ab7ce10c2baa0e268989a4e3ec19e90c84e/urllib3-1.26.4-py2.py3-none-any.whl (153kB)", "Collecting certifi>=2017.4.17 (from requests!=2.18.0,>=2.14.2->docker)", "  Downloading https://files.pythonhosted.org/packages/5e/a0/5f06e1e1d463903cf0c0eebeb751791119ed7a4b3737fdc9a77f1cdfb51f/certifi-2020.12.5-py2.py3-none-any.whl (147kB)", "Collecting chardet<5,>=3.0.2 (from requests!=2.18.0,>=2.14.2->docker)", "  Downloading https://files.pythonhosted.org/packages/19/c7/fa589626997dd07bd87d9269342ccb74b1720384a4d739a1872bd84fbe68/chardet-4.0.0-py2.py3-none-any.whl (178kB)", "Installing collected packages: websocket-client, idna, urllib3, certifi, chardet, requests, docker", "Successfully installed certifi-2020.12.5 chardet-4.0.0 docker-4.4.4 idna-2.10 requests-2.25.1 urllib3-1.26.4 websocket-client-0.58.0"]}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Getting artifact] ********************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.16.221 -> 35.228.15.40] => {"changed": true, "cmd": "/usr/bin/rsync --delay-updates -F --compress --archive --rsh=/usr/bin/ssh -S none -i /root/.ssh/id_rsa -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null --rsync-path=sudo rsync --out-format=<<CHANGED>>%i %n%L /opt/myapp/target/Puzzle15-1.0-SNAPSHOT.war root@35.228.16.221:/root/Puzzle15-1.0-SNAPSHOT.war", "msg": "<f+++++++++ Puzzle15-1.0-SNAPSHOT.war\n", "rc": 0, "stdout_lines": ["<f+++++++++ Puzzle15-1.0-SNAPSHOT.war"]}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Push Dockerfile] *********************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.16.221] => {"changed": true, "checksum": "60873213f61912896e57aff60c3393678330e98f", "dest": "/root/Dockerfile", "gid": 0, "group": "root", "md5sum": "c98f54746b91e4eb33c5f389e09f1763", "mode": "0644", "owner": "root", "size": 890, "src": "/root/.ansible/tmp/ansible-tmp-1616397890.4556751-6370655831064/source", "state": "file", "uid": 0}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Build image] *************************************************************
[0m[1mnull_resource.localexec: Still creating... [2m10s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [2m20s elapsed][0m[0m
[0m[1mnull_resource.localexec: Still creating... [2m30s elapsed][0m[0m
[0m[0mnull_resource.localexec (local-exec): [WARNING]: The default for build.pull is currently 'yes', but will be changed
[0m[0mnull_resource.localexec (local-exec): to 'no' in Ansible 2.12. Please set build.pull explicitly to the value you
[0m[0mnull_resource.localexec (local-exec): need.
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.16.221] => {"actions": ["Built image prodimg:latest from /root"], "changed": true, "image": {"Architecture": "amd64", "Author": "", "Comment": "", "Config": {"AttachStderr": false, "AttachStdin": false, "AttachStdout": false, "Cmd": null, "Domainname": "", "Entrypoint": ["catalina.sh", "run"], "Env": ["PATH=/opt/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "TOMCAT_MAJOR=9", "TOMCAT_VERSION=9.0.43", "CATALINA_HOME=/opt/tomcat"], "ExposedPorts": {"8080/tcp": {}}, "Hostname": "", "Image": "sha256:07bc361c23df20f935a5f749885a3d24f8ce44ec159c64c9ac3d95421ea755f3", "Labels": null, "OnBuild": null, "OpenStdin": false, "StdinOnce": false, "Tty": false, "User": "", "Volumes": null, "WorkingDir": "/opt/tomcat"}, "Container": "763e52630f521b3eb847aa88f227484e792b5db39da0543e106923ad88a15353", "ContainerConfig": {"AttachStderr": false, "AttachStdin": false, "AttachStdout": false, "Cmd": ["/bin/sh", "-c", "#(nop) ", "ENTRYPOINT [\"catalina.sh\" \"run\"]"], "Domainname": "", "Entrypoint": ["catalina.sh", "run"], "Env": ["PATH=/opt/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "TOMCAT_MAJOR=9", "TOMCAT_VERSION=9.0.43", "CATALINA_HOME=/opt/tomcat"], "ExposedPorts": {"8080/tcp": {}}, "Hostname": "763e52630f52", "Image": "sha256:07bc361c23df20f935a5f749885a3d24f8ce44ec159c64c9ac3d95421ea755f3", "Labels": {}, "OnBuild": null, "OpenStdin": false, "StdinOnce": false, "Tty": false, "User": "", "Volumes": null, "WorkingDir": "/opt/tomcat"}, "Created": "2021-03-22T07:25:24.375669912Z", "DockerVersion": "18.09.1", "GraphDriver": {"Data": {"LowerDir": "/var/lib/docker/overlay2/a48d8d11f2e965818558d568c3223f7e91aa06ee3734a7d1f526ed1a1f351c19/diff:/var/lib/docker/overlay2/ff7aadef76259bc45a974ec0dee55344a81e23731e271ee486892bb8d1401c45/diff:/var/lib/docker/overlay2/007ab4201b8aa98d78ca99f295a8a3b360ba29bf35667fccbdc4481c8e89d582/diff:/var/lib/docker/overlay2/1e38c1035b5ad7b3fcc98757834c35272ffde92b78380d149500f90e0da2005f/diff:/var/lib/docker/overlay2/267aeb513a4061b95017f4eb7c5284bd24305260d834313f8249473a9a7c4ec0/diff:/var/lib/docker/overlay2/6406837b06210a34c731fb972a99637cd0d8648985be353078517cbdcf10a9e5/diff", "MergedDir": "/var/lib/docker/overlay2/3995e1b70190c39a98485d462a2603ef05e3e64eb70f703b1f3209ddd0259cdb/merged", "UpperDir": "/var/lib/docker/overlay2/3995e1b70190c39a98485d462a2603ef05e3e64eb70f703b1f3209ddd0259cdb/diff", "WorkDir": "/var/lib/docker/overlay2/3995e1b70190c39a98485d462a2603ef05e3e64eb70f703b1f3209ddd0259cdb/work"}, "Name": "overlay2"}, "Id": "sha256:9aec035a28ccda871ea57e6c6eebf6f1d0b00d3303e8385e8c6934795fbbd7be", "Metadata": {"LastTagTime": "2021-03-22T07:25:24.437655884Z"}, "Os": "linux", "Parent": "sha256:07bc361c23df20f935a5f749885a3d24f8ce44ec159c64c9ac3d95421ea755f3", "RepoDigests": [], "RepoTags": ["prodimg:latest"], "RootFS": {"Layers": ["sha256:cb381a32b2296e4eb5af3f84092a2e6685e88adbc54ee0768a1a1010ce6376c7", "sha256:7a1e52857e4319a11b9e033192b21f4eae051a5d98695394f89c825f31610d1d", "sha256:25aaefe0d9afe82541c7b9eee26676f7ea7732f578857eb93cd67908091393a1", "sha256:ce79a5fc7c914da8c4eebe5cb79fe262d4d5d9fdb42df7412dac0c27de8c8a3d", "sha256:d485073f1b301db45888890ed2dbb95824c94acc421ae6412597ffcadbf3bc46", "sha256:9acb6235e46d851bc91a74687fb1ffb5ec7516e46dd39575b52ff7ae04c20f1a", "sha256:5a139b7f508c6e25f4bdd315ed5ad69dd918a104f052492d31f3151bbb94d245"], "Type": "layers"}, "Size": 327916847, "VirtualSize": 327916847}}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): TASK [Start docker container] **************************************************
[0m[0mnull_resource.localexec (local-exec): changed: [35.228.16.221] => {"ansible_facts": {"docker_container": {"AppArmorProfile": "docker-default", "Args": ["run"], "Config": {"AttachStderr": false, "AttachStdin": false, "AttachStdout": false, "Cmd": null, "Domainname": "", "Entrypoint": ["catalina.sh", "run"], "Env": ["PATH=/opt/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "TOMCAT_MAJOR=9", "TOMCAT_VERSION=9.0.43", "CATALINA_HOME=/opt/tomcat"], "ExposedPorts": {"8080/tcp": {}}, "Hostname": "91f3bcec8d39", "Image": "prodimg", "Labels": {}, "OnBuild": null, "OpenStdin": false, "StdinOnce": false, "Tty": false, "User": "", "Volumes": null, "WorkingDir": "/opt/tomcat"}, "Created": "2021-03-22T07:25:25.147796051Z", "Driver": "overlay2", "ExecIDs": null, "GraphDriver": {"Data": {"LowerDir": "/var/lib/docker/overlay2/e3d4ef37806b0e39bf7060122f5138c58cfb20a884bdbdf447d679c35cae5b55-init/diff:/var/lib/docker/overlay2/3995e1b70190c39a98485d462a2603ef05e3e64eb70f703b1f3209ddd0259cdb/diff:/var/lib/docker/overlay2/a48d8d11f2e965818558d568c3223f7e91aa06ee3734a7d1f526ed1a1f351c19/diff:/var/lib/docker/overlay2/ff7aadef76259bc45a974ec0dee55344a81e23731e271ee486892bb8d1401c45/diff:/var/lib/docker/overlay2/007ab4201b8aa98d78ca99f295a8a3b360ba29bf35667fccbdc4481c8e89d582/diff:/var/lib/docker/overlay2/1e38c1035b5ad7b3fcc98757834c35272ffde92b78380d149500f90e0da2005f/diff:/var/lib/docker/overlay2/267aeb513a4061b95017f4eb7c5284bd24305260d834313f8249473a9a7c4ec0/diff:/var/lib/docker/overlay2/6406837b06210a34c731fb972a99637cd0d8648985be353078517cbdcf10a9e5/diff", "MergedDir": "/var/lib/docker/overlay2/e3d4ef37806b0e39bf7060122f5138c58cfb20a884bdbdf447d679c35cae5b55/merged", "UpperDir": "/var/lib/docker/overlay2/e3d4ef37806b0e39bf7060122f5138c58cfb20a884bdbdf447d679c35cae5b55/diff", "WorkDir": "/var/lib/docker/overlay2/e3d4ef37806b0e39bf7060122f5138c58cfb20a884bdbdf447d679c35cae5b55/work"}, "Name": "overlay2"}, "HostConfig": {"AutoRemove": false, "Binds": [], "BlkioDeviceReadBps": null, "BlkioDeviceReadIOps": null, "BlkioDeviceWriteBps": null, "BlkioDeviceWriteIOps": null, "BlkioWeight": 0, "BlkioWeightDevice": null, "CapAdd": null, "CapDrop": null, "Cgroup": "", "CgroupParent": "", "ConsoleSize": [0, 0], "ContainerIDFile": "", "CpuCount": 0, "CpuPercent": 0, "CpuPeriod": 0, "CpuQuota": 0, "CpuRealtimePeriod": 0, "CpuRealtimeRuntime": 0, "CpuShares": 0, "CpusetCpus": "", "CpusetMems": "", "DeviceCgroupRules": null, "Devices": null, "DiskQuota": 0, "Dns": null, "DnsOptions": null, "DnsSearch": null, "ExtraHosts": null, "GroupAdd": null, "IOMaximumBandwidth": 0, "IOMaximumIOps": 0, "Init": false, "IpcMode": "shareable", "Isolation": "", "KernelMemory": 0, "Links": null, "LogConfig": {"Config": {}, "Type": "json-file"}, "MaskedPaths": ["/proc/asound", "/proc/acpi", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/proc/scsi", "/sys/firmware"], "Memory": 0, "MemoryReservation": 0, "MemorySwap": 0, "MemorySwappiness": null, "NanoCpus": 0, "NetworkMode": "default", "OomKillDisable": false, "OomScoreAdj": 0, "PidMode": "", "PidsLimit": 0, "PortBindings": {"8080/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]}, "Privileged": false, "PublishAllPorts": false, "ReadonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "ReadonlyRootfs": false, "RestartPolicy": {"MaximumRetryCount": 0, "Name": ""}, "Runtime": "runc", "SecurityOpt": null, "ShmSize": 67108864, "UTSMode": "", "Ulimits": null, "UsernsMode": "", "VolumeDriver": "", "VolumesFrom": null}, "HostnamePath": "/var/lib/docker/containers/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b/hostname", "HostsPath": "/var/lib/docker/containers/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b/hosts", "Id": "91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b", "Image": "sha256:9aec035a28ccda871ea57e6c6eebf6f1d0b00d3303e8385e8c6934795fbbd7be", "LogPath": "/var/lib/docker/containers/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b-json.log", "MountLabel": "", "Mounts": [], "Name": "/prodcont", "NetworkSettings": {"Bridge": "", "EndpointID": "54d2b12f615ff9aee1abb15ae2e96dd13cd879a2d3a7c1f25a9ab469f47d0918", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "HairpinMode": false, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "LinkLocalIPv6Address": "", "LinkLocalIPv6PrefixLen": 0, "MacAddress": "02:42:ac:11:00:02", "Networks": {"bridge": {"Aliases": null, "DriverOpts": null, "EndpointID": "54d2b12f615ff9aee1abb15ae2e96dd13cd879a2d3a7c1f25a9ab469f47d0918", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "IPAMConfig": null, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "Links": null, "MacAddress": "02:42:ac:11:00:02", "NetworkID": "9dea51a940a36471a60e61ce4fb9a989007d1eb966ca1f1695f8ff70a6c32f96"}}, "Ports": {"8080/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]}, "SandboxID": "d249b65b41c0e4d489b5eee631b889b2c868ba0b1ce8df0657bfb28e7f985716", "SandboxKey": "/var/run/docker/netns/d249b65b41c0", "SecondaryIPAddresses": null, "SecondaryIPv6Addresses": null}, "Path": "catalina.sh", "Platform": "linux", "ProcessLabel": "", "ResolvConfPath": "/var/lib/docker/containers/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b/resolv.conf", "RestartCount": 0, "State": {"Dead": false, "Error": "", "ExitCode": 0, "FinishedAt": "0001-01-01T00:00:00Z", "OOMKilled": false, "Paused": false, "Pid": 11250, "Restarting": false, "Running": true, "StartedAt": "2021-03-22T07:25:25.73800877Z", "Status": "running"}}}, "changed": true, "container": {"AppArmorProfile": "docker-default", "Args": ["run"], "Config": {"AttachStderr": false, "AttachStdin": false, "AttachStdout": false, "Cmd": null, "Domainname": "", "Entrypoint": ["catalina.sh", "run"], "Env": ["PATH=/opt/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "TOMCAT_MAJOR=9", "TOMCAT_VERSION=9.0.43", "CATALINA_HOME=/opt/tomcat"], "ExposedPorts": {"8080/tcp": {}}, "Hostname": "91f3bcec8d39", "Image": "prodimg", "Labels": {}, "OnBuild": null, "OpenStdin": false, "StdinOnce": false, "Tty": false, "User": "", "Volumes": null, "WorkingDir": "/opt/tomcat"}, "Created": "2021-03-22T07:25:25.147796051Z", "Driver": "overlay2", "ExecIDs": null, "GraphDriver": {"Data": {"LowerDir": "/var/lib/docker/overlay2/e3d4ef37806b0e39bf7060122f5138c58cfb20a884bdbdf447d679c35cae5b55-init/diff:/var/lib/docker/overlay2/3995e1b70190c39a98485d462a2603ef05e3e64eb70f703b1f3209ddd0259cdb/diff:/var/lib/docker/overlay2/a48d8d11f2e965818558d568c3223f7e91aa06ee3734a7d1f526ed1a1f351c19/diff:/var/lib/docker/overlay2/ff7aadef76259bc45a974ec0dee55344a81e23731e271ee486892bb8d1401c45/diff:/var/lib/docker/overlay2/007ab4201b8aa98d78ca99f295a8a3b360ba29bf35667fccbdc4481c8e89d582/diff:/var/lib/docker/overlay2/1e38c1035b5ad7b3fcc98757834c35272ffde92b78380d149500f90e0da2005f/diff:/var/lib/docker/overlay2/267aeb513a4061b95017f4eb7c5284bd24305260d834313f8249473a9a7c4ec0/diff:/var/lib/docker/overlay2/6406837b06210a34c731fb972a99637cd0d8648985be353078517cbdcf10a9e5/diff", "MergedDir": "/var/lib/docker/overlay2/e3d4ef37806b0e39bf7060122f5138c58cfb20a884bdbdf447d679c35cae5b55/merged", "UpperDir": "/var/lib/docker/overlay2/e3d4ef37806b0e39bf7060122f5138c58cfb20a884bdbdf447d679c35cae5b55/diff", "WorkDir": "/var/lib/docker/overlay2/e3d4ef37806b0e39bf7060122f5138c58cfb20a884bdbdf447d679c35cae5b55/work"}, "Name": "overlay2"}, "HostConfig": {"AutoRemove": false, "Binds": [], "BlkioDeviceReadBps": null, "BlkioDeviceReadIOps": null, "BlkioDeviceWriteBps": null, "BlkioDeviceWriteIOps": null, "BlkioWeight": 0, "BlkioWeightDevice": null, "CapAdd": null, "CapDrop": null, "Cgroup": "", "CgroupParent": "", "ConsoleSize": [0, 0], "ContainerIDFile": "", "CpuCount": 0, "CpuPercent": 0, "CpuPeriod": 0, "CpuQuota": 0, "CpuRealtimePeriod": 0, "CpuRealtimeRuntime": 0, "CpuShares": 0, "CpusetCpus": "", "CpusetMems": "", "DeviceCgroupRules": null, "Devices": null, "DiskQuota": 0, "Dns": null, "DnsOptions": null, "DnsSearch": null, "ExtraHosts": null, "GroupAdd": null, "IOMaximumBandwidth": 0, "IOMaximumIOps": 0, "Init": false, "IpcMode": "shareable", "Isolation": "", "KernelMemory": 0, "Links": null, "LogConfig": {"Config": {}, "Type": "json-file"}, "MaskedPaths": ["/proc/asound", "/proc/acpi", "/proc/kcore", "/proc/keys", "/proc/latency_stats", "/proc/timer_list", "/proc/timer_stats", "/proc/sched_debug", "/proc/scsi", "/sys/firmware"], "Memory": 0, "MemoryReservation": 0, "MemorySwap": 0, "MemorySwappiness": null, "NanoCpus": 0, "NetworkMode": "default", "OomKillDisable": false, "OomScoreAdj": 0, "PidMode": "", "PidsLimit": 0, "PortBindings": {"8080/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]}, "Privileged": false, "PublishAllPorts": false, "ReadonlyPaths": ["/proc/bus", "/proc/fs", "/proc/irq", "/proc/sys", "/proc/sysrq-trigger"], "ReadonlyRootfs": false, "RestartPolicy": {"MaximumRetryCount": 0, "Name": ""}, "Runtime": "runc", "SecurityOpt": null, "ShmSize": 67108864, "UTSMode": "", "Ulimits": null, "UsernsMode": "", "VolumeDriver": "", "VolumesFrom": null}, "HostnamePath": "/var/lib/docker/containers/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b/hostname", "HostsPath": "/var/lib/docker/containers/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b/hosts", "Id": "91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b", "Image": "sha256:9aec035a28ccda871ea57e6c6eebf6f1d0b00d3303e8385e8c6934795fbbd7be", "LogPath": "/var/lib/docker/containers/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b-json.log", "MountLabel": "", "Mounts": [], "Name": "/prodcont", "NetworkSettings": {"Bridge": "", "EndpointID": "54d2b12f615ff9aee1abb15ae2e96dd13cd879a2d3a7c1f25a9ab469f47d0918", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "HairpinMode": false, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "LinkLocalIPv6Address": "", "LinkLocalIPv6PrefixLen": 0, "MacAddress": "02:42:ac:11:00:02", "Networks": {"bridge": {"Aliases": null, "DriverOpts": null, "EndpointID": "54d2b12f615ff9aee1abb15ae2e96dd13cd879a2d3a7c1f25a9ab469f47d0918", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "IPAMConfig": null, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "Links": null, "MacAddress": "02:42:ac:11:00:02", "NetworkID": "9dea51a940a36471a60e61ce4fb9a989007d1eb966ca1f1695f8ff70a6c32f96"}}, "Ports": {"8080/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]}, "SandboxID": "d249b65b41c0e4d489b5eee631b889b2c868ba0b1ce8df0657bfb28e7f985716", "SandboxKey": "/var/run/docker/netns/d249b65b41c0", "SecondaryIPAddresses": null, "SecondaryIPv6Addresses": null}, "Path": "catalina.sh", "Platform": "linux", "ProcessLabel": "", "ResolvConfPath": "/var/lib/docker/containers/91f3bcec8d39ee2f19f9f5567328f50e6828df741846d27d9e6c656772b2d70b/resolv.conf", "RestartCount": 0, "State": {"Dead": false, "Error": "", "ExitCode": 0, "FinishedAt": "0001-01-01T00:00:00Z", "OOMKilled": false, "Paused": false, "Pid": 11250, "Restarting": false, "Running": true, "StartedAt": "2021-03-22T07:25:25.73800877Z", "Status": "running"}}}
[0m[0m
[0m[0mnull_resource.localexec (local-exec): PLAY RECAP *********************************************************************
[0m[0mnull_resource.localexec (local-exec): 35.228.15.40               : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
[0m[0mnull_resource.localexec (local-exec): 35.228.16.221              : ok=7    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
[0m[0mnull_resource.localexec (local-exec): localhost                  : ok=2    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
[0m[0m
[0m[1mnull_resource.localexec: Creation complete after 2m40s [id=1518702337915627327][0m[0m
[33m
[1m[33mWarning: [0m[0m[1mInterpolation-only expressions are deprecated[0m

[0m  on main.tf line 67, in resource "google_compute_instance" "prod":
  67:     private_key = [4m"${file("~/.ssh/id_rsa")}"[0m
[0m
Terraform 0.11 and earlier required all non-constant expressions to be
provided via interpolation syntax, but this pattern is now deprecated. To
silence this warning, remove the "${ sequence from the start and the }"
sequence from the end of this expression, leaving just the inner expression.

Template interpolation syntax is still used to construct strings from
expressions when the template includes multiple interpolation sequences or a
mixture of literal strings and interpolations. This deprecation applies only
to templates that consist entirely of a single interpolation sequence.
[0m[0m
[0m[1m[32m
Apply complete! Resources: 3 added, 0 changed, 1 destroyed.[0m
[0m[1m[32m
Outputs:

prod_ip_addr = "35.228.16.221"[0m
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform destroy dev)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ terraform destroy -target=google_compute_instance.dev -auto-approve
[0m[1mnull_resource.localexec: Destroying... [id=1518702337915627327][0m[0m
[0m[1mnull_resource.localexec: Destruction complete after 0s[0m[0m
[0m[1mgoogle_compute_instance.dev: Destroying... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001][0m[0m
[0m[1mgoogle_compute_instance.dev: Still destroying... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001, 10s elapsed][0m[0m
[0m[1mgoogle_compute_instance.dev: Still destroying... [id=projects/tough-racer-302813/zones/europe-north1-a/instances/instance-dev-001, 20s elapsed][0m[0m
[0m[1mgoogle_compute_instance.dev: Destruction complete after 21s[0m[0m
[33m
[1m[33mWarning: [0m[0m[1mResource targeting is in effect[0m

[0mYou are creating a plan with the -target option, which means that the result
of this plan may not represent all of the changes requested by the current
configuration.
		
The -target option is not for routine use, and is provided only for
exceptional situations such as recovering from errors or mistakes, or when
Terraform specifically suggests to use it as part of an error message.
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1mApplied changes may be incomplete[0m

[0mThe plan was created with the -target option in effect, so some changes
requested in the configuration may have been ignored and the output values may
not be fully updated. Run the following command to verify that no other
changes are pending:
    terraform plan
	
Note that the -target option is not suitable for routine use, and is provided
only for exceptional situations such as recovering from errors or mistakes, or
when Terraform specifically suggests to use it as part of an error message.
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1mInterpolation-only expressions are deprecated[0m

[0m  on main.tf line 67, in resource "google_compute_instance" "prod":
  67:     private_key = [4m"${file("~/.ssh/id_rsa")}"[0m
[0m
Terraform 0.11 and earlier required all non-constant expressions to be
provided via interpolation syntax, but this pattern is now deprecated. To
silence this warning, remove the "${ sequence from the start and the }"
sequence from the end of this expression, leaving just the inner expression.

Template interpolation syntax is still used to construct strings from
expressions when the template includes multiple interpolation sequences or a
mixture of literal strings and interpolations. This deprecation applies only
to templates that consist entirely of a single interpolation sequence.
[0m[0m
[0m[1m[32m
Destroy complete! Resources: 2 destroyed.[0m
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS